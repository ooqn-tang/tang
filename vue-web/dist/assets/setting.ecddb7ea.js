import{_ as m,s as d,r as c}from"./index.2f223259.js";import{o as h,e as p,f as t,q as n,v as i}from"./vendor.69c4f9d0.js";const _={name:"author_setting",data(){return{author:{username:"",nickname:"",mail:"",headUrl:"https://avatars.githubusercontent.com/u/15867678?v=4"}}},components:{},methods:{uploadImage(l){let o=l.target.files[0],a=new FormData;a.append("file",o),a.append("type","2"),console.log(a.get("file")),d({url:"/api/file/upload",method:"post",data:a,headers:{"Content-Type":"multipart/form-data"}}).then(u=>{this.author.headUrl="https://ttcxy.cn/api/file/"+u.data,alert(this.author.headUrl)})},logout(){c(this.$store),window.location.href="/"},save(){d({url:"/api/author",method:"PUT",data:this.author}).then(l=>{alert("\u4FDD\u5B58\u6210\u529F"),this.selectAuthorLoad()})},selectAuthorLoad(){d({url:"/api/author/"+this.$route.params.username,method:"GET"}).then(l=>{this.author=l.data})}},mounted(){this.selectAuthorLoad()}},f={class:"m-3"},v={class:"row mb-3"},b=t("label",{class:"col-sm-2 col-form-label"},"\u7528\u6237\u540D",-1),g={class:"col-sm-10"},w={class:"row mb-3"},x=t("label",{class:"col-sm-2 col-form-label",disabled:""},"\u90AE\u7BB1",-1),y={class:"col-sm-10"},k={class:"row mb-3"},U=t("label",{class:"col-sm-2 col-form-label"},"\u6635\u79F0",-1),T={class:"col-sm-10"},V={class:"row mb-3"},A=t("label",{class:"col-sm-2 col-form-label"},"\u7B7E\u540D",-1),B={class:"col-sm-10"};function C(l,o,a,u,s,r){return h(),p("div",f,[t("div",v,[b,t("div",g,[n(t("input",{class:"form-control",disabled:"","onUpdate:modelValue":o[0]||(o[0]=e=>s.author.username=e)},null,512),[[i,s.author.username]])])]),t("div",w,[x,t("div",y,[n(t("input",{type:"text",class:"form-control",disabled:"","onUpdate:modelValue":o[1]||(o[1]=e=>s.author.mail=e)},null,512),[[i,s.author.mail]])])]),t("div",k,[U,t("div",T,[n(t("input",{type:"text",class:"form-control","onUpdate:modelValue":o[2]||(o[2]=e=>s.author.nickname=e)},null,512),[[i,s.author.nickname]])])]),t("div",V,[A,t("div",B,[n(t("input",{class:"form-control",id:"inputPassword3","onUpdate:modelValue":o[3]||(o[3]=e=>s.author.signature=e)},null,512),[[i,s.author.signature]])])]),t("div",null,[t("button",{class:"btn btn-primary",onClick:o[4]||(o[4]=(...e)=>r.save&&r.save(...e))},"\u4FDD\u5B58\u4FE1\u606F"),t("button",{class:"btn btn-primary float-end",onClick:o[5]||(o[5]=(...e)=>r.logout&&r.logout(...e))},"\u9000\u51FA\u767B\u5F55")])])}var D=m(_,[["render",C]]);export{D as default};
