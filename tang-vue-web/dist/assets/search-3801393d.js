import{I as y,R as k,d as _,J as x,x as o,y as l,z as e,k as C,P as w,C as n,F as B,B as I,E as p,l as m,G as v}from"./router-7246853f.js";import{s as V}from"./request-5c6f490a.js";import{_ as $,i as E}from"./notice-7b947d3f.js";const L={class:"row"},N={class:"col-lg-8 small-col"},D={class:"input-group mb-2"},F={class:"list-group mb-2"},G={class:"article-title"},M=["onClick"],R={class:"search-synopsis"},T={class:"list-group-item"},z={key:1},A={class:"col-lg-4 small-col"},J={__name:"search",setup(P){const f=k();let r=_([]),i=_(!0),c=_({number:0}),u=_({wb:""});function d(){r.value=[],i.value=!0,u.value.page=c.value.number,V({url:"/api/article/so",method:"GET",params:u.value}).then(a=>{c.value=a.data,r.value=r.value.concat(a.data.content),i.value=!1})}function h(){c.value.last||(c.value.number+=1,d())}function b(a){f.push({name:"article",params:{articleId:a}})}return x(()=>{d()}),(a,s)=>(o(),l("div",L,[e("div",N,[e("div",D,[C(e("input",{type:"text",class:"form-control search-input","onUpdate:modelValue":s[0]||(s[0]=t=>n(u).wb=t),placeholder:"请输入","aria-label":"请输入"},null,512),[[w,n(u).wb]]),e("button",{class:"btn btn-outline-secondary",type:"button",onClick:s[1]||(s[1]=t=>d())},"搜索")]),e("ul",F,[(o(!0),l(B,null,I(n(r),(t,g)=>(o(),l("li",{class:"list-group-item",key:g},[e("p",G,[e("strong",null,[e("a",{href:"#",onClick:S=>b(t.articleId)},v(t.title),9,M)])]),e("p",R,v(t.synopsis),1)]))),128)),e("li",T,[n(i)?p("",!0):(o(),l("a",{key:0,onClick:s[2]||(s[2]=t=>h())},"获取")),n(i)?(o(),l("a",z,"加载中...")):p("",!0)])])]),e("div",A,[m($),m(E)])]))}},H=y(J,[["__scopeId","data-v-9aa36ff2"]]);export{H as default};
