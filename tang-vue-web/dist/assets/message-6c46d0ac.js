import{b,j as _,N as y,C as l,D as e,u as x,S as f,F as d,I as g,P as w,o as i,M as k,H as p,Q as I,R as S}from"./github-3fa84727.js";import{s as u}from"./request-55ac77c7.js";const B=s=>(I("data-v-57205287"),s=s(),S(),s),C={class:"row"},D={class:"col-md-4 mb-2"},E={class:"card move-b-lr-0"},F={class:"card-body",style:{height:"6.5em"}},M={class:"input-group",style:{height:"100%"}},N={class:"card move-b-lr-0"},T={class:"card-body",style:{height:"6.5em"}},V=B(()=>e("span",{class:"float-end"},"评:1",-1)),L={style:{width:"300px",display:"-webkit-box",overflow:"hidden","text-overflow":"ellipsis","-webkit-box-orient":"vertical","-webkit-line-clamp":"2"}},j={__name:"message",setup(s){let c=_({number:0}),a=_([]),o={text:""};function m(){u({url:"/api/essay",method:"get",params:{page:c.value.number}}).then(t=>{c.value=t.data,a.value=a.value.concat(t.data.content)})}function h(){u({url:"/api/essay",method:"post",data:o}).then(t=>{o={},a.value.unshift(t.data)})}return y(()=>{m()}),(t,r)=>(i(),l("div",C,[e("div",D,[e("div",E,[e("div",F,[e("div",M,[x(e("textarea",{"onUpdate:modelValue":r[0]||(r[0]=n=>d(o).text=n),class:"form-control",id:"exampleFormControlTextarea1",style:{height:"100%"}},null,512),[[f,d(o).text]]),e("button",{class:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:h},"发送")])])])]),(i(!0),l(g,null,w(d(a),(n,v)=>(i(),l("div",{class:"col-md-4 mb-2",key:v},[e("div",N,[e("div",T,[e("p",null,[k(p(n.author.nickname)+" ",1),V]),e("div",L,p(n.text),1)])])]))),128))]))}},Q=b(j,[["__scopeId","data-v-57205287"]]);export{Q as default};
