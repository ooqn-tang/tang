import{j as d,N as w,C as l,D as e,u as y,S as k,F as n,A as x,I as C,P as $,G as m,v,K as N,o as r,H as _}from"./github-1ff0047c.js";import{s as V}from"./request-55ac77c7.js";import{a as B,_ as D}from"./notice-580ba3c6.js";const I={class:"row"},L={class:"col-lg-8 move-p-lr-0"},A={class:"input-group mb-2 move-search"},E={class:"list-group mb-2 move-b-lr-0"},F={class:"article-title"},G=["onClick"],M={style:{width:"100%","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},R={class:"list-group-item"},S={key:1},T={class:"col-lg-4 move-p-lr-0"},j={class:"list-group mb-2 move-b-lr-0"},H={class:"card mb-2 move-b-lr-0"},J={__name:"search",setup(K){const b=N();let s=d([]),i=d(!0),c=d({number:0}),u=d({wb:""});function p(){i.value=!0,u.value.page=c.value.number,V({url:"/api/article/so",method:"GET",params:u.value}).then(a=>{c.value=a.data,s.value=s.value.concat(a.data.content),i.value=!1})}function f(){c.value.last||(c.value.number+=1,p())}function h(a){b.push({name:"article",params:{articleId:a}})}return w(()=>{p()}),(a,o)=>(r(),l("div",I,[e("div",L,[e("div",A,[y(e("input",{type:"text",class:"form-control search-input","onUpdate:modelValue":o[0]||(o[0]=t=>n(u).wb=t),placeholder:"请输入","aria-label":"请输入","aria-describedby":"button-addon2"},null,512),[[k,n(u).wb]]),e("button",{class:"btn btn-outline-secondary",type:"button",onClick:o[1]||(o[1]=t=>(x(s)?s.value=[]:s=[],p()))},"搜索")]),e("ul",E,[(r(!0),l(C,null,$(n(s),(t,g)=>(r(),l("li",{class:"list-group-item",key:g},[e("p",F,[e("strong",null,[e("a",{href:"#",onClick:P=>h(t.articleId)},_(t.title),9,G)])]),e("p",M,_(t.synopsis),1)]))),128)),e("li",R,[n(i)?m("",!0):(r(),l("a",{key:0,onClick:o[2]||(o[2]=t=>f())},"获取")),n(i)?(r(),l("a",S,"加载中...")):m("",!0)])])]),e("div",T,[e("div",j,[v(B)]),e("div",H,[v(D)])])]))}};export{J as default};
