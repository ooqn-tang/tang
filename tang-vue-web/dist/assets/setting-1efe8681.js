import{u as p,e as b,J as f,x as h,y as v,z as s,k as a,M as n,C as l}from"./router-ec2cfcb0.js";import{s as c}from"./request-5c6f490a.js";const g={class:"list-group article-list"},k={class:"list-group-item"},w={class:"row mb-3"},x=s("label",{class:"col-sm-2 col-form-label"},"用户名",-1),y={class:"col-sm-10"},V={class:"row mb-3"},U=s("label",{class:"col-sm-2 col-form-label",disabled:""},"邮箱",-1),B={class:"col-sm-10"},C={class:"row mb-3"},M=s("label",{class:"col-sm-2 col-form-label"},"昵称",-1),A={class:"col-sm-10"},S={class:"row mb-3"},z=s("label",{class:"col-sm-2 col-form-label"},"签名",-1),D={class:"col-sm-10"},P={__name:"setting",setup(E){let r=p(),o=b({username:"************",nickname:"********",mail:"****************"}),u=r.username;function d(){c({url:`/api/author/username/${u}`,method:"get"}).then(i=>{o.value=i.data})}function m(){c({url:"/api/author",method:"put",data:o.value}).then(i=>{alert("保存成功")})}function _(){r.logout(),window.location.href="/"}return f(()=>{d()}),(i,t)=>(h(),v("ul",g,[s("li",k,[s("div",w,[x,s("div",y,[a(s("input",{class:"form-control",disabled:"","onUpdate:modelValue":t[0]||(t[0]=e=>l(o).username=e)},null,512),[[n,l(o).username]])])]),s("div",V,[U,s("div",B,[a(s("input",{type:"text",class:"form-control",disabled:"","onUpdate:modelValue":t[1]||(t[1]=e=>l(o).mail=e)},null,512),[[n,l(o).mail]])])]),s("div",C,[M,s("div",A,[a(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>l(o).nickname=e)},null,512),[[n,l(o).nickname]])])]),s("div",S,[z,s("div",D,[a(s("input",{class:"form-control",id:"inputPassword3","onUpdate:modelValue":t[3]||(t[3]=e=>l(o).signature=e)},null,512),[[n,l(o).signature]])])]),s("div",null,[s("button",{class:"btn btn-primary",onClick:m},"保存信息"),s("button",{class:"btn btn-primary float-end",onClick:_},"退出登录")])])]))}};export{P as default};
