import{s as b}from"./request-1bb69c34.js";import{I as E,R as I,L as R,u as V,d as h,g as B,J as D,t as y,x as _,y as d,z as t,G as g,C as e,l as a,D as c,K as i,E as m,H as r,N as T,O as z}from"./router-ed88fd40.js";import{_ as A,i as L}from"./notice-e5b9af8f.js";const O=f=>(T("data-v-e0d47fa6"),f=f(),z(),f),U={class:"row clearfix"},F={class:"col-md-4 col-md-push-8"},G={class:"card mb-2"},H={class:"card-body"},J=["textContent"],K=O(()=>t("hr",null,null,-1)),M={class:"d-md-inline d-none"},P={class:"col-md-8 col-md-pull-4 mb-2"},q={class:"card"},Q={key:0,class:"card-header"},W={class:"nav justify-content-center"},X={class:"nav-item"},Y={class:"nav-item"},Z={key:0,class:"nav-item"},ee={key:1,class:"nav-item"},te={key:2,class:"nav-item"},se={key:1,class:"card-header"},ae={class:"nav justify-content-center"},ne={class:"nav-item"},oe={class:"nav-item"},le={class:"card-body p-0"},ce={__name:"index",setup(f){let C=I(),x=R(),w=V(),n=h(x.name),p=h({nickname:"∷∷∷∷∷∷∷∷",signature:"∷∷∷∷∷∷∷∷∷∷∷∷∷∷∷∷∷∷∷"}),o=h(""),v=w.username;h({page:1});let u=h(1);function S(s){u.value==2?b({url:`/api/fans/${s}`,method:"POST"}).then(k=>{u.value=1}):b({url:`/api/fans/${s}`,method:"DELETE"}).then(k=>{u.value=2})}B(()=>x.name,s=>{n.value=s});function j(){b({url:`/api/fans/username/${o}`,method:"get"}).then(s=>{s.data>0?u.value=1:u.value=2})}function N(){b({url:`/api/author/${o}`,method:"get"}).then(s=>{s.status==200&&(p.value=s.data)})}return D(()=>{o=C.currentRoute.value.params.username,N(),j()}),(s,k)=>{const l=y("router-link"),$=y("router-view");return _(),d("div",U,[t("div",F,[t("div",G,[t("div",H,[t("strong",null,g(e(p).nickname),1),t("button",{class:"btn btn-outline-warning float-end fans-but",onClick:k[0]||(k[0]=ie=>S(e(p).username)),textContent:g(e(u)==2?"订阅":"取消订阅")},null,8,J),K,t("div",null,"简介："+g(e(p).signature),1)])]),t("div",M,[a(A),a(L)])]),t("div",P,[t("div",q,[e(o)==e(v)?(_(),d("div",Q,[t("ul",W,[t("li",X,[a(l,{class:i(["nav-link",e(n)=="author_article"?"nav-link-active":""]),to:{name:"author_article"}},{default:c(()=>[r("文章")]),_:1},8,["class"])]),t("li",Y,[a(l,{class:i(["nav-link",e(n)=="author_subject"?"nav-link-active":""]),to:{name:"author_subject"}},{default:c(()=>[r("专栏")]),_:1},8,["class"])]),e(o)==e(v)?(_(),d("li",Z,[a(l,{class:i(["nav-link",e(n)=="author_subscribe"?"nav-link-active":""]),to:{name:"author_subscribe"}},{default:c(()=>[r("订阅")]),_:1},8,["class"])])):m("",!0),e(o)==e(v)?(_(),d("li",ee,[a(l,{class:i(["nav-link",e(n)=="author_collect"?"nav-link-active":""]),to:{name:"author_collect"}},{default:c(()=>[r("收藏")]),_:1},8,["class"])])):m("",!0),e(o)==e(v)?(_(),d("li",te,[a(l,{class:i(["nav-link",e(n)=="author_setting"?"nav-link-active":""]),to:{name:"author_setting"}},{default:c(()=>[r("设置")]),_:1},8,["class"])])):m("",!0)])])):m("",!0),e(o)!=e(v)?(_(),d("div",se,[t("ul",ae,[t("li",ne,[a(l,{class:i(["nav-link",e(n)=="author_article"?"nav-link-active":""]),to:{name:"author_article"}},{default:c(()=>[r("文章")]),_:1},8,["class"])]),t("li",oe,[a(l,{class:i(["nav-link",e(n)=="author_subject"?"nav-link-active":""]),to:{name:"author_subject"}},{default:c(()=>[r("专栏")]),_:1},8,["class"])])])])):m("",!0),t("div",le,[a($)])])])])}}},de=E(ce,[["__scopeId","data-v-e0d47fa6"]]);export{de as default};
