import{s as C,f as N}from"./request-651d32a9.js";import{_ as B,i as V}from"./info-e0b80c69.js";import{G as $,a as d,H as T,q as A,s as a,t as s,x as e,I,z as n,F as f,y,B as g,j as p,D as r,A as b,C as L}from"./preload-helper-3003bc42.js";const D={class:"row"},F={class:"col-md-9 mb-2 small-col"},j={class:"card mb-2"},q={class:"card-body p-0",style:{padding:"0px !important"}},E={class:"nav"},G=["onClick"],H={class:"list-group",style:{}},M={class:"list-group-item"},S=["textContent"],J={class:"article-synopsis",style:{color:"#5f5a5a","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},K={class:"date-color",style:{"font-size":"16px"}},O={key:0,class:"date-color",style:{"font-size":"16px"}},P={style:{"font-size":"16px",color:"#dc3545"}},Q={class:"list-group-item"},R={key:1},U={class:"col-md-3 mb-2 small-col"},W={__name:"article-list",setup(X){let u=d(0),c=d({number:0}),_=d([]),m=d(!0),h=d([]);T(()=>{v({categoryId:0}),w()});function k(o){u=o.categoryId,c.value.number=0,_.value=[],v(o)}function w(){C({url:"/api/category/list",method:"get",params:{type:"1"}}).then(o=>{o.data.length>0&&(h.value=o.data)})}function v(o){C({url:"/api/article/list",method:"get",params:{page:c.value.number,categoryId:o.categoryId}}).then(l=>{m.value=!1,c.value=l.data,l.data.content=l.data.content.filter(t=>t.author!=null),_.value=_.value.concat(l.data.content)})}function z(){c.last||(c.value.number+=1,v({categoryId:u.value}))}return(o,i)=>{const l=A("router-link");return a(),s("div",D,[e("div",F,[e("div",j,[e("div",q,[e("nav",E,[e("a",{class:I(["nav-link item-p-link",n(u)=="0"?"nav-link-active":""]),onClick:i[0]||(i[0]=t=>k({categoryId:0}))},"全部",2),(a(!0),s(f,null,y(n(h),t=>(a(),s("a",{class:I([n(u)==t.categoryId?"nav-link-active":"","nav-link item-p-link"]),onClick:x=>k(t)},r(t.name),11,G))),256))])])]),e("ul",H,[(a(!0),s(f,null,y(n(_),t=>(a(),s("li",M,[p(l,{to:{name:"article_post",params:{id:t.articleId}},class:"article-title"},{default:b(()=>[e("strong",null,[e("p",{textContent:r(t.title)},null,8,S)])]),_:2},1032,["to"]),e("div",J,r(t.synopsis),1),e("div",null,[e("span",K,r(n(N)(t.createTime)),1),t.category!=null?(a(),s("span",O," . "+r(t.category.name),1)):g("",!0),(a(!0),s(f,null,y(t.tagList,x=>(a(),s("span",null,[L(" . "),e("span",P,r(x.tagName),1)]))),256)),p(l,{to:{name:"author_article",params:{username:t.author.username}},class:"float-end"},{default:b(()=>[L(r(t.author.nickname),1)]),_:2},1032,["to"])])]))),256)),e("li",Q,[n(m)?g("",!0):(a(),s("a",{key:0,onClick:i[1]||(i[1]=t=>z())},"获取")),n(m)?(a(),s("a",R,"加载中...")):g("",!0)])])]),e("div",U,[p(B),p(V)])])}}},et=$(W,[["__scopeId","data-v-cf25ef1e"]]);export{et as default};
