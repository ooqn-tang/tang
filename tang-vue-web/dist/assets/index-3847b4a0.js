import{s as x}from"./request-55ac77c7.js";import{K as N,r as f,j as B,L as V,x as l,y as t,H as y,B as e,D as u,n as a,C as _,M as d,U as z,O as D,J as R,E as w,G as i,I as v,P as T,Q as U}from"./github-f7596896.js";import{_ as L,i as M}from"./notice-74d52136.js";const O=k=>(T("data-v-092188ce"),k=k(),U(),k),P={class:"row clearfix"},A={class:"col-md-4 col-md-push-8"},F={class:"card mb-2"},G={class:"card-body"},H=O(()=>t("hr",null,null,-1)),J={class:"d-md-inline d-none"},K={class:"col-md-8 col-md-pull-4 mb-2"},Q={class:"card"},q={key:0,class:"card-header"},W={class:"nav justify-content-center"},X={class:"nav-item"},Y={class:"nav-item"},Z={key:0,class:"nav-item"},ee={key:1,class:"nav-item"},te={key:2,class:"nav-item"},se={key:1,class:"card-header"},ae={class:"nav justify-content-center"},ne={class:"nav-item"},oe={class:"nav-item"},le={class:"card-body p-0"},ie={__name:"index",setup(k){let C=z(),b=D(),j=R(),n=f(b.name),h=f({nickname:"∷∷∷∷∷∷∷∷",signature:"∷∷∷∷∷∷∷∷∷∷∷∷∷∷∷∷∷∷∷"}),o=f(""),p=j.state.username;f({page:1});let c=f(1);function g(s){c.value==2?x({url:`/api/fans/${s}`,method:"POST"}).then(m=>{c.value=1}):x({url:`/api/fans/${s}`,method:"DELETE"}).then(m=>{c.value=2})}B(()=>b.name,s=>{n.value=s});function $(){x({url:`/api/fans/username/${o}`,method:"get"}).then(s=>{s.data>0?c.value=1:c.value=2})}function S(){x({url:`/api/author/${o}`,method:"get"}).then(s=>{s.status==200&&(h.value=s.data)})}return V(()=>{o=C.currentRoute.value.params.username,S(),$()}),(s,m)=>{const r=w("router-link"),E=w("router-view");return i(),l("div",P,[t("div",A,[t("div",F,[t("div",G,[t("strong",null,y(e(h).nickname)+" ",1),e(c)==2?(i(),l("button",{key:0,class:"btn btn-outline-warning float-end",style:{padding:"0px 5px 0px 3px","font-size":"13px"},onClick:m[0]||(m[0]=I=>g(e(h).username))},"订阅")):u("",!0),e(c)==1?(i(),l("button",{key:1,class:"btn btn-outline-warning float-end",style:{padding:"0px 5px 0px 3px","font-size":"13px"},onClick:m[1]||(m[1]=I=>g(e(h).username))},"取消订阅")):u("",!0),H,t("div",null,"简介："+y(e(h).signature),1)])]),t("div",J,[a(L),a(M)])]),t("div",K,[t("div",Q,[e(o)==e(p)?(i(),l("div",q,[t("ul",W,[t("li",X,[a(r,{class:d(["nav-link",e(n)=="author_article"?"nav-link-active":""]),to:{name:"author_article"}},{default:_(()=>[v("文章")]),_:1},8,["class"])]),t("li",Y,[a(r,{class:d(["nav-link",e(n)=="author_subject"?"nav-link-active":""]),to:{name:"author_subject"}},{default:_(()=>[v("专栏")]),_:1},8,["class"])]),e(o)==e(p)?(i(),l("li",Z,[a(r,{class:d(["nav-link",e(n)=="author_subscribe"?"nav-link-active":""]),to:{name:"author_subscribe"}},{default:_(()=>[v("订阅")]),_:1},8,["class"])])):u("",!0),e(o)==e(p)?(i(),l("li",ee,[a(r,{class:d(["nav-link",e(n)=="author_collect"?"nav-link-active":""]),to:{name:"author_collect"}},{default:_(()=>[v("收藏")]),_:1},8,["class"])])):u("",!0),e(o)==e(p)?(i(),l("li",te,[a(r,{class:d(["nav-link",e(n)=="author_setting"?"nav-link-active":""]),to:{name:"author_setting"}},{default:_(()=>[v("设置")]),_:1},8,["class"])])):u("",!0)])])):u("",!0),e(o)!=e(p)?(i(),l("div",se,[t("ul",ae,[t("li",ne,[a(r,{class:d(["nav-link",e(n)=="author_article"?"nav-link-active":""]),to:{name:"author_article"}},{default:_(()=>[v("文章")]),_:1},8,["class"])]),t("li",oe,[a(r,{class:d(["nav-link",e(n)=="author_subject"?"nav-link-active":""]),to:{name:"author_subject"}},{default:_(()=>[v("专栏")]),_:1},8,["class"])])])])):u("",!0),t("div",le,[a(E)])])])])}}},_e=N(ie,[["__scopeId","data-v-092188ce"]]);export{_e as default};
