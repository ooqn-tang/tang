import{s as h}from"./request-5c6f490a.js";import{N as y,a as p}from"./FormItem-ae2229cf.js";import{N as C,a as f,b as A}from"./Space-df32f648.js";import{e as i,J as z,x as E,y as F,l,D as r,C as e,F as T,G as g,h as u}from"./router-c0048b9f.js";import{F as s}from"./Dropdown-b1590065.js";import"./admin-7cbda21a.js";import"./notice-94c52516.js";function x(d){return h({url:`/api/admin/article/${d}`,method:"DELETE"})}function V(){return h({url:"/api/admin/article",method:"GET"})}const R={__name:"article",setup(d){let o=i([]),m=i({}),n=i({}),k=i({phone:{required:!0,message:"请输入姓名",trigger:"blur"}}),_=[{title:"标题",key:"title"},{title:"时间",key:"createTime"},{title:"作者",key:"author.nickname"},{title:"操作",key:"actions",width:"250",render(t,a){return[u(f,[u(s,{size:"small",onClick:()=>sendMail(t)},{default:()=>"查看"}),u(s,{size:"small",onClick:()=>N(a,t)},{default:()=>"删除"})])]}}],N=(t,a)=>{x(a.articleId).then(c=>{o.value.splice(t,1)})},v=()=>{V().then(t=>{o.value=t.data.content})};z(()=>{v()});let b=()=>{m.value.validate()};return(t,a)=>(E(),F(T,null,[l(e(f),{vertical:""},{default:r(()=>[l(e(y),{ref_key:"formRef",ref:m,inline:"","label-width":80,model:e(n),rules:e(k),size:t.size},{default:r(()=>[l(e(p),{label:"电话号码",path:"phone"},{default:r(()=>[l(e(C),{value:e(n).phone,"onUpdate:value":a[0]||(a[0]=c=>e(n).phone=c),placeholder:"电话号码"},null,8,["value"])]),_:1}),l(e(p),null,{default:r(()=>[l(e(s),{"attr-type":"button",onClick:e(b)},{default:r(()=>[g(" 验证 ")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","rules","size"])]),_:1}),l(e(A),{columns:e(_),data:e(o),bordered:!0},null,8,["columns","data"])],64))}};export{R as default};
