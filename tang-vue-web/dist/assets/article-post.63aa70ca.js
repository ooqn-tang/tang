import{_ as O,a as R,b as A,u as H,r as a,l as z,d as U,e as n,f as l,g as t,i as e,F as g,m as $,j as _,t as m,h as w,n as L,v as J,w as K,k as y,s as i,x as Q,y as W,p as X,q as Y}from"./index.5db2cb1e.js";/* empty css               */const b=p=>(Q("data-v-d7950e84"),p=p(),W(),p),Z={class:"row"},tt={class:"col-md-3 col-lg-3 d-md-inline d-none"},et={key:0,class:"list-group mb-2"},st=b(()=>t("a",{class:"list-group-item active"},"\u4E13\u9898",-1)),ot=["href"],at={class:"list-group mb-2"},nt=b(()=>t("a",{class:"list-group-item active"},[y("\u63A8\u8350"),t("span",{class:"float-end"},"\u{1F387}")],-1)),lt=["href"],it={class:"col-md-9 col-lg-9 pb-5"},ct={class:"row"},rt={class:"col-lg-8 move-p-lr-0"},dt={class:"card mb-2 article-body move-b-lr-0"},ut={key:0,class:"card-body"},_t=y(" . "),mt={style:{color:"rgb(180, 180, 180)"}},ht=["innerHTML"],pt={key:1,class:"card-body"},bt={class:"col-lg-4 move-p-lr-0"},vt={class:"list-group mb-2 move-b-lr-0"},ft={class:"card move-b-lr-0"},gt={class:"navbar fixed-bottom navbar-light bg-light",style:{"border-top":"1px solid rgb(206, 206, 206)"}},yt={class:"container-fluid"},kt={class:"col-md-12 col-lg-12"},Tt=b(()=>t("a",{class:"btn btn-outline-primary btn-sm mini-but",disabled:""},"\u4E3E\u62A5",-1)),xt=["href"],Et=y("\u4FEE\u6539"),Ct=b(()=>t("a",{class:"btn btn-outline-primary btn-sm mini-but",onclick:"document.body.scrollTop = document.documentElement.scrollTop = 0"},"\u2B06TOP",-1)),It={setup(p){R();const k=A(),T=H();let d=a(1),c=a(k.query.value);a("");let x=a(!1),E=a([]),o=a({article:{},author:{},articleContext:{}}),C=a(!1);a([]);let v=a([]),h=a(0),S=a("\u52A0\u8F7D\u4E2D...");function I(s){d.value==2?i({url:`/api/fans/${s}`,method:"POST"}).then(u=>{d.value=1}):i({url:`/api/fans/${s}`,method:"DELETE"}).then(u=>{d.value=2})}function P(){i({url:`/api/fans/username/${o.value.author.username}`,method:"get"}).then(s=>{s.data==1?d.value=1:d.value=2})}function B(){h==1?i({url:`/api/collect/${c}`,method:"DELETE"}).then(s=>{h=0}):i({url:"/api/collect",method:"POST",data:{dataId:c,url:window.location.href,title:o.title,synopsis:o.synopsis}}).then(s=>{h=1})}function G(){i({url:`/api/collect/${c}`,method:"GET"}).then(s=>{h=s.data})}function N(){i({url:`/api/article/load/${c}`,method:"GET"}).then(s=>{o.value=s.data,C.value=T.state.username==o.value.author.username,P()})}function V(){i({url:`/api/subject/article/${c}`,method:"GET"}).then(s=>{v=s.data})}function j(){i({url:"/api/article/recommend",method:"GET"}).then(s=>{E.value=s.data})}function q(){c=k.params.id,T.state.username!=""&&G(),V(),N()}return z(()=>{q(),j()}),(s,u)=>{const D=X,F=Y,M=U("router-link");return n(),l(g,null,[t("div",Z,[t("div",tt,[e(v).length>0?(n(),l("div",et,[st,(n(!0),l(g,null,$(e(v),(r,f)=>(n(),l("a",{class:L(["list-group-item",r.articleId==e(o).articleId?"active2":""]),key:f,href:"/article/"+r.articleId},m(r.title),11,ot))),128))])):_("",!0),t("div",at,[nt,(n(!0),l(g,null,$(e(E),(r,f)=>(n(),l("a",{class:"list-group-item",key:f,href:"/article/"+r.articleId},m(r.title),9,lt))),128))])]),t("div",it,[t("div",ct,[t("div",rt,[t("div",dt,[e(x)?_("",!0):(n(),l("div",ut,[t("div",null,[t("strong",null,m(e(o).author.nickname),1),_t,t("span",mt,m(e(o).article.createTime),1),e(d)==2?(n(),l("button",{key:0,class:"btn btn-outline-warning float-end t-b-m-1",onClick:u[0]||(u[0]=r=>I(e(o).author.username))}," \u8BA2\u9605 ")):_("",!0),e(d)==1?(n(),l("button",{key:1,class:"btn btn-outline-warning float-end t-b-m-1",onClick:u[1]||(u[1]=r=>I(e(o).author.username))}," \u53D6\u6D88\u8BA2\u9605 ")):_("",!0)]),t("h3",null,[t("strong",null,m(e(o).article.title),1)]),t("div",{class:"markdown-body",innerHTML:e(o).articleContext.text},null,8,ht)])),e(x)?(n(),l("div",pt,m(e(S)),1)):_("",!0)])]),t("div",bt,[t("div",vt,[w(D)]),t("div",ft,[w(F)])])])])]),t("nav",gt,[t("div",yt,[t("div",kt,[t("a",{class:L([e(h)==1?"btn-outline-danger":"btn-outline-primary","btn btn-sm mini-but"]),style:{"margin-left":"0px"},onClick:B},"\u6536\u85CF",2),Tt,t("a",{class:"btn btn-outline-primary btn-sm mini-but",href:"https://blog.ooqn.com/article/"+e(c),target:"_blank"},"\u9605\u8BFB\u6A21\u5F0F",8,xt),e(C)?(n(),J(M,{key:0,class:"btn btn-outline-primary btn-sm mini-but",target:"_blank",to:{name:"article-editor-md",params:{id:e(c)}}},{default:K(()=>[Et]),_:1},8,["to"])):_("",!0),Ct])])])],64)}}},Lt=O(It,[["__scopeId","data-v-d7950e84"]]);export{Lt as default};
