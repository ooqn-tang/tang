import{j as d,B as w,C as l,D as e,u as y,R as k,F as n,A as x,I as C,O as $,G as _,v as m,o as i,H as v,M as B}from"./github-6eaaf46c.js";import{s as V}from"./request-55ac77c7.js";import{a as D,_ as I}from"./notice-356e8a31.js";const L={class:"row"},M={class:"col-lg-8"},N={class:"input-group mb-2"},R={class:"list-group mb-2"},A={class:"article-title"},E=["onClick"],F={style:{width:"100%","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},G={class:"list-group-item"},T={key:1},j={class:"col-lg-4"},z={__name:"search",setup(H){const f=B();let s=d([]),r=d(!0),u=d({number:0}),c=d({wb:""});function p(){r.value=!0,c.value.page=u.value.number,V({url:"/api/article/so",method:"GET",params:c.value}).then(o=>{u.value=o.data,s.value=s.value.concat(o.data.content),r.value=!1})}function b(){u.value.last||(u.value.number+=1,p())}function h(o){f.push({name:"article",params:{articleId:o}})}return w(()=>{p()}),(o,a)=>(i(),l("div",L,[e("div",M,[e("div",N,[y(e("input",{type:"text",class:"form-control search-input","onUpdate:modelValue":a[0]||(a[0]=t=>n(c).wb=t),placeholder:"请输入","aria-label":"请输入","aria-describedby":"button-addon2"},null,512),[[k,n(c).wb]]),e("button",{class:"btn btn-outline-secondary",type:"button",onClick:a[1]||(a[1]=t=>(x(s)?s.value=[]:s=[],p()))},"搜索")]),e("ul",R,[(i(!0),l(C,null,$(n(s),(t,g)=>(i(),l("li",{class:"list-group-item",key:g},[e("p",A,[e("strong",null,[e("a",{href:"#",onClick:O=>h(t.articleId)},v(t.title),9,E)])]),e("p",F,v(t.synopsis),1)]))),128)),e("li",G,[n(r)?_("",!0):(i(),l("a",{key:0,onClick:a[2]||(a[2]=t=>b())},"获取")),n(r)?(i(),l("a",T,"加载中...")):_("",!0)])])]),e("div",j,[m(D),m(I)])]))}};export{z as default};
