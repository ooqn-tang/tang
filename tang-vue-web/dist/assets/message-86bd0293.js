import{b as y,j as _,B as b,C as n,D as e,u as x,R as f,F as c,I as g,O as w,o as i,K as k,H as u,P as I,Q as B}from"./github-6eaaf46c.js";import{s as p}from"./request-55ac77c7.js";const S=s=>(I("data-v-6e7dc149"),s=s(),B(),s),D={class:"row"},E={class:"col-md-4 mb-2"},V={class:"card"},C={class:"card-body",style:{height:"6.5em"}},F={class:"input-group",style:{height:"100%"}},L={class:"card"},M={class:"card-body",style:{height:"6.5em"}},N=S(()=>e("span",{class:"float-end"},"评:99+",-1)),T={style:{width:"300px",display:"-webkit-box",overflow:"hidden","text-overflow":"ellipsis","-webkit-box-orient":"vertical","-webkit-line-clamp":"2"}},j={__name:"message",setup(s){let l=_({number:0}),a=_([]),o={text:""};function h(){p({url:"/api/essay",method:"get",params:{page:l.value.number}}).then(t=>{l.value=t.data,a.value=a.value.concat(t.data.content)})}function m(){p({url:"/api/essay",method:"post",data:o}).then(t=>{o={},a.value.unshift(t.data)})}return b(()=>{h()}),(t,r)=>(i(),n("div",D,[e("div",E,[e("div",V,[e("div",C,[e("div",F,[x(e("textarea",{"onUpdate:modelValue":r[0]||(r[0]=d=>c(o).text=d),class:"form-control",id:"textarea",style:{height:"100%"}},null,512),[[f,c(o).text]]),e("button",{class:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:m},"发送")])])])]),(i(!0),n(g,null,w(c(a),(d,v)=>(i(),n("div",{class:"col-md-4 mb-2",key:v},[e("div",L,[e("div",M,[e("p",null,[k(u(d.author.nickname)+" ",1),N]),e("div",T,u(d.text),1)])])]))),128))]))}},O=y(j,[["__scopeId","data-v-6e7dc149"]]);export{O as default};
