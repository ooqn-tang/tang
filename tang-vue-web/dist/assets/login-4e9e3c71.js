import{I as v,r as f,J as b,x as g,y as t,G as d,M as y,B as a,l as c,R as u,n as p,z as _,D as x,E as w,P as I,Q as S,U as k}from"./github-1130d390.js";import{s as M,o as V}from"./request-55ac77c7.js";const r=l=>(I("data-v-70e48d4e"),l=l(),S(),l),B={class:"modal",style:{display:"inline"}},D={id:"loginModal",class:"modal-dialog"},N={class:"modal-content"},C=r(()=>t("div",{class:"modal-header"},[t("h4",{class:"modal-title text-center"},"登录")],-1)),U={id:"model-body",class:"modal-body"},W=r(()=>t("label",null,"邮箱/用户名：",-1)),E={class:"form-group"},J=r(()=>t("label",null,"密码：",-1)),R={class:"form-group"},T={class:"modal-footer"},j={class:"btn-group W100"},z={class:"btn-group W100"},G={class:"btn-group W100"},O={__name:"login",setup(l){let e=f({rememberMe:!0}),m=k();function h(){M({url:"/api/authenticate",method:"post",data:e.value}).then(s=>{if(s.status===200){debugger;let o=V(s.data);localStorage.setItem("jwt",s.data),localStorage.setItem("author",JSON.stringify(o)),m.push({path:"/author/"+o.sub})}}).catch(s=>{alert(s.data)})}return b(()=>{}),(s,o)=>{const i=x("router-link");return w(),g("div",B,[t("div",D,[t("div",N,[C,t("div",U,[d(y(a(e).value)+" ",1),W,t("div",E,[c(t("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=n=>a(e).username=n),placeholder:"邮箱/用户名",autocomplete:"off",class:"form-control"},null,512),[[u,a(e).username]])]),J,t("div",R,[c(t("input",{type:"password","onUpdate:modelValue":o[1]||(o[1]=n=>a(e).password=n),placeholder:"密码",autocomplete:"off",class:"form-control"},null,512),[[u,a(e).password]])])]),t("div",T,[t("div",j,[t("button",{type:"button",class:"btn btn-primary",onClick:o[2]||(o[2]=n=>h())},"登录")]),t("div",z,[p(i,{to:"/register",type:"button",class:"btn btn-outline-secondary"},{default:_(()=>[d("注册")]),_:1})]),t("div",G,[p(i,{to:"/",type:"button",class:"btn btn-outline-secondary"},{default:_(()=>[d("返回首页")]),_:1})])])])])])}}},$=v(O,[["__scopeId","data-v-70e48d4e"]]);export{$ as default};
