import{s as b}from"./request-55ac77c7.js";import{K as I,r as h,j as N,L as B,x as _,y as t,H as g,B as e,n as a,C as c,M as i,D as m,U as V,O as D,J as R,E as y,G as d,I as r,P as T,Q as U}from"./github-f7596896.js";import{_ as L,i as M}from"./notice-74d52136.js";const O=f=>(T("data-v-140e3549"),f=f(),U(),f),P={class:"row clearfix"},z={class:"col-md-4 col-md-push-8"},A={class:"card mb-2"},F={class:"card-body"},G=["textContent"],H=O(()=>t("hr",null,null,-1)),J={class:"d-md-inline d-none"},K={class:"col-md-8 col-md-pull-4 mb-2"},Q={class:"card"},q={key:0,class:"card-header"},W={class:"nav justify-content-center"},X={class:"nav-item"},Y={class:"nav-item"},Z={key:0,class:"nav-item"},ee={key:1,class:"nav-item"},te={key:2,class:"nav-item"},se={key:1,class:"card-header"},ae={class:"nav justify-content-center"},ne={class:"nav-item"},oe={class:"nav-item"},le={class:"card-body p-0"},ce={__name:"index",setup(f){let C=V(),x=D(),j=R(),n=h(x.name),p=h({nickname:"∷∷∷∷∷∷∷∷",signature:"∷∷∷∷∷∷∷∷∷∷∷∷∷∷∷∷∷∷∷"}),o=h(""),v=j.state.username;h({page:1});let u=h(1);function w(s){u.value==2?b({url:`/api/fans/${s}`,method:"POST"}).then(k=>{u.value=1}):b({url:`/api/fans/${s}`,method:"DELETE"}).then(k=>{u.value=2})}N(()=>x.name,s=>{n.value=s});function S(){b({url:`/api/fans/username/${o}`,method:"get"}).then(s=>{s.data>0?u.value=1:u.value=2})}function $(){b({url:`/api/author/${o}`,method:"get"}).then(s=>{s.status==200&&(p.value=s.data)})}return B(()=>{o=C.currentRoute.value.params.username,$(),S()}),(s,k)=>{const l=y("router-link"),E=y("router-view");return d(),_("div",P,[t("div",z,[t("div",A,[t("div",F,[t("strong",null,g(e(p).nickname),1),t("button",{class:"btn btn-outline-warning float-end fans-but",onClick:k[0]||(k[0]=ie=>w(e(p).username)),textContent:g(e(u)==2?"订阅":"取消订阅")},null,8,G),H,t("div",null,"简介："+g(e(p).signature),1)])]),t("div",J,[a(L),a(M)])]),t("div",K,[t("div",Q,[e(o)==e(v)?(d(),_("div",q,[t("ul",W,[t("li",X,[a(l,{class:i(["nav-link",e(n)=="author_article"?"nav-link-active":""]),to:{name:"author_article"}},{default:c(()=>[r("文章")]),_:1},8,["class"])]),t("li",Y,[a(l,{class:i(["nav-link",e(n)=="author_subject"?"nav-link-active":""]),to:{name:"author_subject"}},{default:c(()=>[r("专栏")]),_:1},8,["class"])]),e(o)==e(v)?(d(),_("li",Z,[a(l,{class:i(["nav-link",e(n)=="author_subscribe"?"nav-link-active":""]),to:{name:"author_subscribe"}},{default:c(()=>[r("订阅")]),_:1},8,["class"])])):m("",!0),e(o)==e(v)?(d(),_("li",ee,[a(l,{class:i(["nav-link",e(n)=="author_collect"?"nav-link-active":""]),to:{name:"author_collect"}},{default:c(()=>[r("收藏")]),_:1},8,["class"])])):m("",!0),e(o)==e(v)?(d(),_("li",te,[a(l,{class:i(["nav-link",e(n)=="author_setting"?"nav-link-active":""]),to:{name:"author_setting"}},{default:c(()=>[r("设置")]),_:1},8,["class"])])):m("",!0)])])):m("",!0),e(o)!=e(v)?(d(),_("div",se,[t("ul",ae,[t("li",ne,[a(l,{class:i(["nav-link",e(n)=="author_article"?"nav-link-active":""]),to:{name:"author_article"}},{default:c(()=>[r("文章")]),_:1},8,["class"])]),t("li",oe,[a(l,{class:i(["nav-link",e(n)=="author_subject"?"nav-link-active":""]),to:{name:"author_subject"}},{default:c(()=>[r("专栏")]),_:1},8,["class"])])])])):m("",!0),t("div",le,[a(E)])])])])}}},de=I(ce,[["__scopeId","data-v-140e3549"]]);export{de as default};
