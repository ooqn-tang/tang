import{s as C}from"./request-5c6f490a.js";import{_ as B,i as V}from"./notice-94c52516.js";import{I as $,e as d,J as w,t as D,x as a,y as s,z as e,K as x,C as c,F as y,B as g,E as f,l as p,H as n,D as I,G as L}from"./router-c0048b9f.js";const E={class:"row"},F={class:"col-md-9 mb-2 small-col"},T={class:"card mb-2"},A={class:"card-body p-0"},G={class:"nav"},H=["onClick"],J={class:"card"},K={class:"card-body article-list p-0"},M={class:"list-group"},S={class:"list-group-item"},j=["textContent"],q={class:"article-synopsis",style:{color:"#5f5a5a"}},O={class:"date-color",style:{"font-size":"16px"}},P={key:0,class:"date-color",style:{"font-size":"16px"}},Q={style:{"font-size":"16px",color:"#dc3545"}},R={class:"list-group-item"},U={key:1},W={class:"col-md-3 mb-2 small-col"},X={__name:"article-list",setup(Y){let u=d(0),r=d({number:0}),_=d([]),v=d(!0),h=d([]);w(()=>{m({categoryId:0}),z()});function k(o){u=o.categoryId,r.value.number=0,_.value=[],m(o)}function z(){C({url:"/api/category/list",method:"get",params:{type:"1"}}).then(o=>{o.data.length>0&&(h.value=o.data)})}function m(o){C({url:"/api/article/list",method:"get",params:{page:r.value.number,categoryId:o.categoryId}}).then(l=>{v.value=!1,r.value=l.data,l.data.content=l.data.content.filter(t=>t.author!=null),_.value=_.value.concat(l.data.content)})}function N(){r.last||(r.value.number+=1,m({categoryId:u.value}))}return(o,i)=>{const l=D("router-link");return a(),s("div",E,[e("div",F,[e("div",T,[e("div",A,[e("nav",G,[e("a",{class:x(["nav-link",c(u)=="0"?"nav-link-active":""]),onClick:i[0]||(i[0]=t=>k({categoryId:0}))},"全部",2),(a(!0),s(y,null,g(c(h),t=>(a(),s("a",{class:x([c(u)==t.categoryId?"nav-link-active":"","nav-link"]),onClick:b=>k(t)},n(t.name),11,H))),256))])])]),e("div",J,[e("div",K,[e("ul",M,[(a(!0),s(y,null,g(c(_),t=>(a(),s("li",S,[p(l,{to:{name:"article_post",params:{id:t.articleId}},class:"article-title"},{default:I(()=>[e("strong",null,[e("p",{textContent:n(t.title)},null,8,j)])]),_:2},1032,["to"]),e("div",q,n(t.synopsis),1),e("div",null,[e("span",O,n(t.createTime),1),t.category!=null?(a(),s("span",P," . "+n(t.category.name),1)):f("",!0),(a(!0),s(y,null,g(t.tagList,b=>(a(),s("span",null,[L(" . "),e("span",Q,n(b.tagName),1)]))),256)),p(l,{to:{name:"author_article",params:{username:t.author.username}},class:"float-end"},{default:I(()=>[L(n(t.author.nickname),1)]),_:2},1032,["to"])])]))),256)),e("li",R,[c(v)?f("",!0):(a(),s("a",{key:0,onClick:i[1]||(i[1]=t=>N())},"获取")),c(v)?(a(),s("a",U,"加载中...")):f("",!0)])])])])]),e("div",W,[p(B),p(V)])])}}},at=$(X,[["__scopeId","data-v-0eb4e4bb"]]);export{at as default};
