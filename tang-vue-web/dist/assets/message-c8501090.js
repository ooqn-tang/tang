import{b as y,j as _,N as b,C as n,D as e,u as x,S as f,F as c,I as g,P as w,o as i,M as k,H as u,Q as I,R as S}from"./github-e9c6c174.js";import{s as p}from"./request-55ac77c7.js";const B=s=>(I("data-v-6e7dc149"),s=s(),S(),s),D={class:"row"},E={class:"col-md-4 mb-2"},M={class:"card"},N={class:"card-body",style:{height:"6.5em"}},V={class:"input-group",style:{height:"100%"}},C={class:"card"},F={class:"card-body",style:{height:"6.5em"}},L=B(()=>e("span",{class:"float-end"},"评:99+",-1)),T={style:{width:"300px",display:"-webkit-box",overflow:"hidden","text-overflow":"ellipsis","-webkit-box-orient":"vertical","-webkit-line-clamp":"2"}},j={__name:"message",setup(s){let l=_({number:0}),a=_([]),o={text:""};function h(){p({url:"/api/essay",method:"get",params:{page:l.value.number}}).then(t=>{l.value=t.data,a.value=a.value.concat(t.data.content)})}function m(){p({url:"/api/essay",method:"post",data:o}).then(t=>{o={},a.value.unshift(t.data)})}return b(()=>{h()}),(t,r)=>(i(),n("div",D,[e("div",E,[e("div",M,[e("div",N,[e("div",V,[x(e("textarea",{"onUpdate:modelValue":r[0]||(r[0]=d=>c(o).text=d),class:"form-control",id:"textarea",style:{height:"100%"}},null,512),[[f,c(o).text]]),e("button",{class:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:m},"发送")])])])]),(i(!0),n(g,null,w(c(a),(d,v)=>(i(),n("div",{class:"col-md-4 mb-2",key:v},[e("div",C,[e("div",F,[e("p",null,[k(u(d.author.nickname)+" ",1),L]),e("div",T,u(d.text),1)])])]))),128))]))}},Q=y(j,[["__scopeId","data-v-6e7dc149"]]);export{Q as default};
