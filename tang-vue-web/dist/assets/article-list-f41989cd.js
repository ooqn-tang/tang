import{s as x}from"./request-55ac77c7.js";import{a as V,_ as w}from"./notice-356e8a31.js";import{b as D,j as d,B as E,C as a,D as t,N as I,F as n,I as g,O as f,G as h,v as p,o as s,H as l,E as L,K as N,r as F}from"./github-6eaaf46c.js";const T={class:"row"},j={class:"col-md-9 mb-2"},A={class:"card mb-2"},G={class:"card-body p-0"},H={class:"nav"},K=["onClick"],M={class:"card"},O={class:"card-body article-list p-0"},S={class:"list-group"},q=["textContent"],J={class:"article-synopsis",style:{color:"#5f5a5a"}},P={class:"date-color",style:{"font-size":"16px"}},Q={key:0,class:"date-color",style:{"font-size":"16px"}},R={style:{"font-size":"16px",color:"#dc3545"}},U={class:"list-group-item"},W={key:1},X={class:"col-md-3 mb-2"},Y={__name:"article-list",setup(Z){let _=d(0),c=d({number:0}),u=d([]),v=d(!0),k=d([]);E(()=>{m({categoryId:0}),$()});function C(o){_=o.categoryId,c.value.number=0,u.value=[],m(o)}function $(){x({url:"/api/category/list",method:"get",params:{type:"1"}}).then(o=>{o.data.length>0&&(k.value=o.data)})}function m(o){x({url:"/api/article/list",method:"get",params:{page:c.value.number,categoryId:o.categoryId}}).then(i=>{v.value=!1,c.value=i.data,u.value=u.value.concat(i.data.content)})}function z(){c.last||(c.value.number+=1,m({categoryId:_.value}))}return(o,r)=>{const i=F("router-link");return s(),a("div",T,[t("div",j,[t("div",A,[t("div",G,[t("nav",H,[t("a",{class:I(["nav-link",n(_)=="0"?"nav-link-active":""]),onClick:r[0]||(r[0]=e=>C({categoryId:0}))},"全部",2),(s(!0),a(g,null,f(n(k),(e,y)=>(s(),a("a",{key:y,class:I([n(_)==e.categoryId?"nav-link-active":"","nav-link"]),onClick:b=>C(e)},l(e.name),11,K))),128))])])]),t("div",M,[t("div",O,[t("ul",S,[(s(!0),a(g,null,f(n(u),(e,y)=>(s(),a("li",{class:"list-group-item",key:y},[p(i,{to:{name:"article_post",params:{id:e.articleId}},class:"article-title"},{default:L(()=>[t("strong",null,[t("p",{textContent:l(e.title)},null,8,q)])]),_:2},1032,["to"]),t("div",J,l(e.synopsis),1),t("div",null,[t("span",P,l(e.createTime),1),e.category!=null?(s(),a("span",Q," . "+l(e.category.name),1)):h("",!0),(s(!0),a(g,null,f(e.tagList,(b,B)=>(s(),a("span",{key:B},[N(" . "),t("span",R,l(b.tagName),1)]))),128)),p(i,{to:{name:"author_article",params:{username:e.author.username}},class:"float-end"},{default:L(()=>[N(l(e.author.nickname),1)]),_:2},1032,["to"])])]))),128)),t("li",U,[n(v)?h("",!0):(s(),a("a",{key:0,onClick:r[1]||(r[1]=e=>z())},"获取")),n(v)?(s(),a("a",W,"加载中...")):h("",!0)])])])])]),t("div",X,[p(V),p(w)])])}}},st=D(Y,[["__scopeId","data-v-5b13ad4e"]]);export{st as default};
