import{G as b,Q as g,d as u,H as y,t as x,x as a,y as o,z as e,k,M as w,C as l,F as C,B as V,D as m,l as p,J as B,K as N,E as v}from"./router-b176819d.js";import{s as D}from"./request-02cf91c6.js";import{_ as E,i as L}from"./notice-fc180054.js";const M={class:"row"},T={class:"col-lg-8 small-col"},$={class:"input-group mb-2"},F={class:"list-group mb-2"},G={class:"list-group-item"},I={class:"article-title"},z={class:"search-synopsis"},H={class:"list-group-item"},J={key:1},K={class:"col-lg-4 small-col"},Q={__name:"search",setup(R){g();let n=u([]),r=u(!0),i=u({number:0}),c=u({wb:""});function _(){n.value=[],r.value=!0,c.value.page=i.value.number,D({url:"/api/article/so",method:"GET",params:c.value}).then(d=>{i.value=d.data,n.value=n.value.concat(d.data.content),r.value=!1})}function f(){i.value.last||(i.value.number+=1,_())}return y(()=>{_()}),(d,s)=>{const h=x("router-link");return a(),o("div",M,[e("div",T,[e("div",$,[k(e("input",{type:"text",class:"form-control search-input","onUpdate:modelValue":s[0]||(s[0]=t=>l(c).wb=t),placeholder:"请输入","aria-label":"请输入"},null,512),[[w,l(c).wb]]),e("button",{class:"btn btn-outline-secondary",type:"button",onClick:s[1]||(s[1]=t=>_())},"搜索")]),e("ul",F,[(a(!0),o(C,null,V(l(n),t=>(a(),o("li",G,[e("p",I,[e("strong",null,[p(h,{to:{name:"article_post",params:{id:t.articleId}}},{default:B(()=>[N(v(t.title),1)]),_:2},1032,["to"])])]),e("p",z,v(t.synopsis),1)]))),256)),e("li",H,[l(r)?m("",!0):(a(),o("a",{key:0,onClick:s[2]||(s[2]=t=>f())},"获取")),l(r)?(a(),o("a",J,"加载中...")):m("",!0)])])]),e("div",K,[p(E),p(L)])])}}},q=b(Q,[["__scopeId","data-v-0f89622e"]]);export{q as default};
