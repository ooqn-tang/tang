import{s as x}from"./request-55ac77c7.js";import{a as B,_ as w}from"./notice-580ba3c6.js";import{b as D,j as d,N as E,C as s,D as t,O as I,F as n,I as g,P as f,G as h,v,r as F,o as a,H as l,E as L,M as N}from"./github-1ff0047c.js";const M={class:"row"},T={class:"col-md-9 mb-2 move-p-lr-0"},j={class:"card mb-2 move-b-lr-0"},A={class:"card-body p-0"},G={class:"nav"},H=["onClick"],O={class:"card move-b-lr-0"},P={class:"card-body article-list p-0"},S={class:"list-group"},q=["textContent"],J={class:"article-synopsis",style:{color:"#5f5a5a"}},K={class:"date-color",style:{"font-size":"16px"}},Q={key:0,class:"date-color",style:{"font-size":"16px"}},R={style:{"font-size":"16px",color:"#dc3545"}},U={class:"list-group-item"},W={key:1},X={class:"col-md-3 mb-2 move-p-lr-0"},Y={class:"list-group mb-2 move-b-lr-0"},Z={class:"card mb-2 move-b-lr-0"},tt={__name:"article-list",setup(et){let _=d(0),r=d({number:0}),u=d([]),p=d(!0),k=d([]);E(()=>{m({categoryId:0}),$()});function b(o){_=o.categoryId,r.value.number=0,u.value=[],m(o)}function $(){x({url:"/api/category/list",method:"get",params:{type:"1"}}).then(o=>{o.data.length>0&&(k.value=o.data)})}function m(o){x({url:"/api/article/list",method:"get",params:{page:r.value.number,categoryId:o.categoryId}}).then(i=>{p.value=!1,r.value=i.data,u.value=u.value.concat(i.data.content)})}function z(){r.last||(r.value.number+=1,m({categoryId:_.value}))}return(o,c)=>{const i=F("router-link");return a(),s("div",M,[t("div",T,[t("div",j,[t("div",A,[t("nav",G,[t("a",{class:I(["nav-link",n(_)=="0"?"nav-link-active":""]),onClick:c[0]||(c[0]=e=>b({categoryId:0}))},"全部",2),(a(!0),s(g,null,f(n(k),(e,y)=>(a(),s("a",{key:y,class:I([n(_)==e.categoryId?"nav-link-active":"","nav-link"]),onClick:C=>b(e)},l(e.name),11,H))),128))])])]),t("div",O,[t("div",P,[t("ul",S,[(a(!0),s(g,null,f(n(u),(e,y)=>(a(),s("li",{class:"list-group-item",key:y},[v(i,{to:{name:"article_post",params:{id:e.articleId}},class:"article-title"},{default:L(()=>[t("strong",null,[t("p",{textContent:l(e.title)},null,8,q)])]),_:2},1032,["to"]),t("div",J,l(e.synopsis),1),t("div",null,[t("span",K,l(e.createTime),1),e.category!=null?(a(),s("span",Q," . "+l(e.category.name),1)):h("",!0),(a(!0),s(g,null,f(e.tagList,(C,V)=>(a(),s("span",{key:V},[N(" . "),t("span",R,l(C.tagName),1)]))),128)),v(i,{to:{name:"author_article",params:{username:e.author.username}},class:"float-end"},{default:L(()=>[N(l(e.author.nickname),1)]),_:2},1032,["to"])])]))),128)),t("li",U,[n(p)?h("",!0):(a(),s("a",{key:0,onClick:c[1]||(c[1]=e=>z())},"获取")),n(p)?(a(),s("a",W,"加载中...")):h("",!0)])])])])]),t("div",X,[t("div",Y,[v(B)]),t("div",Z,[v(w)])])])}}},lt=D(tt,[["__scopeId","data-v-fe1653a7"]]);export{lt as default};
