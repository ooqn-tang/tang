import{G as b,O as x,a as u,H as h,l as y,q as o,t as a,x as e,g as k,K as w,z as l,F as C,y as V,B as m,j as p,A as B,C as N,D as v}from"./preload-helper-2ca1440d.js";import{s as D}from"./request-596b05ba.js";import{_ as L,i as T}from"./info-86cfaa29.js";const $={class:"row"},E={class:"col-lg-8 small-col"},F={class:"input-group mb-2"},G={class:"list-group mb-2"},I={class:"list-group-item"},M={class:"article-title"},j={class:"search-synopsis"},q={class:"list-group-item"},z={key:1},A={class:"col-lg-4 small-col"},H={__name:"index",setup(K){x();let n=u([]),i=u(!0),r=u({number:0}),c=u({wb:""});function d(){n.value=[],i.value=!0,c.value.page=r.value.number,D({url:"/api/article/so",method:"GET",params:c.value}).then(_=>{r.value=_.data,n.value=n.value.concat(_.data.content),i.value=!1})}function f(){r.value.last||(r.value.number+=1,d())}return h(()=>{d()}),(_,s)=>{const g=y("router-link");return o(),a("div",$,[e("div",E,[e("div",F,[k(e("input",{type:"text",class:"form-control search-input","onUpdate:modelValue":s[0]||(s[0]=t=>l(c).wb=t),placeholder:"请输入","aria-label":"请输入"},null,512),[[w,l(c).wb]]),e("button",{class:"btn btn-outline-secondary",type:"button",onClick:s[1]||(s[1]=t=>d())},"搜索")]),e("ul",G,[(o(!0),a(C,null,V(l(n),t=>(o(),a("li",I,[e("p",M,[e("strong",null,[p(g,{to:{name:"article_post",params:{id:t.articleId}}},{default:B(()=>[N(v(t.title),1)]),_:2},1032,["to"])])]),e("p",j,v(t.synopsis),1)]))),256)),e("li",q,[l(i)?m("",!0):(o(),a("a",{key:0,onClick:s[2]||(s[2]=t=>f())},"获取")),l(i)?(o(),a("a",z,"加载中...")):m("",!0)])])]),e("div",A,[p(L),p(T)])])}}},U=b(H,[["__scopeId","data-v-8682805d"]]);export{U as default};
