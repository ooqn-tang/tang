import{I as g,Q as x,e as u,J as h,t as y,x as o,y as a,z as e,k,M as w,C as l,F as C,B as V,E as m,l as p,D as B,G as N,H as v}from"./router-c0048b9f.js";import{s as D}from"./request-5c6f490a.js";import{_ as E,i as I}from"./notice-94c52516.js";const L={class:"row"},M={class:"col-lg-8 small-col"},T={class:"input-group mb-2"},$={class:"list-group mb-2"},F={class:"list-group-item"},G={class:"article-title"},z={class:"search-synopsis"},H={class:"list-group-item"},J={key:1},Q={class:"col-lg-4 small-col"},R={__name:"index",setup(S){x();let n=u([]),i=u(!0),r=u({number:0}),c=u({wb:""});function d(){n.value=[],i.value=!0,c.value.page=r.value.number,D({url:"/api/article/so",method:"GET",params:c.value}).then(_=>{r.value=_.data,n.value=n.value.concat(_.data.content),i.value=!1})}function f(){r.value.last||(r.value.number+=1,d())}return h(()=>{d()}),(_,s)=>{const b=y("router-link");return o(),a("div",L,[e("div",M,[e("div",T,[k(e("input",{type:"text",class:"form-control search-input","onUpdate:modelValue":s[0]||(s[0]=t=>l(c).wb=t),placeholder:"请输入","aria-label":"请输入"},null,512),[[w,l(c).wb]]),e("button",{class:"btn btn-outline-secondary",type:"button",onClick:s[1]||(s[1]=t=>d())},"搜索")]),e("ul",$,[(o(!0),a(C,null,V(l(n),t=>(o(),a("li",F,[e("p",G,[e("strong",null,[p(b,{to:{name:"article_post",params:{id:t.articleId}}},{default:B(()=>[N(v(t.title),1)]),_:2},1032,["to"])])]),e("p",z,v(t.synopsis),1)]))),256)),e("li",H,[l(i)?m("",!0):(o(),a("a",{key:0,onClick:s[2]||(s[2]=t=>f())},"获取")),l(i)?(o(),a("a",J,"加载中...")):m("",!0)])])]),e("div",Q,[p(E),p(I)])])}}},A=g(R,[["__scopeId","data-v-8682805d"]]);export{A as default};
