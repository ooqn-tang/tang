import{u as k,a as r,i as D,s as u,t as c,x as e,F as _,y as v,z as n,I as x,D as p,k as b,g as y,K as L,P as M,v as S}from"./preload-helper-3003bc42.js";import"./request-651d32a9.js";const C={class:"row h100"},N={class:"h100",style:{display:"flex","flex-direction":"column",height:"100%",padding:"0px"}},T=M('<div class="input-group" style="margin-bottom:1px;"><input type="text" class="form-control" aria-label="Text input with segmented dropdown button"><button type="button" class="btn btn-outline-secondary">搜索</button><button type="button" class="btn btn-outline-secondary dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" aria-expanded="false"><span class="visually-hidden">Toggle Dropdown</span></button><ul class="dropdown-menu dropdown-menu-end"><li><a class="dropdown-item" href="#">增加好友</a></li><li><a class="dropdown-item" href="#">增加群</a></li><li><a class="dropdown-item" href="#">创建群</a></li></ul></div>',1),B={class:"box",style:{height:"100%","flex-grow":"1","overflow-y":"auto",padding:"5px",border:"1px solid #dee2e6",margin:"5px 0px 0px 0px"}},R={class:"box-list",style:{height:"0"}},V=["onClick"],$={style:{color:"#bbbbbb"}},z={class:"h100",style:{display:"flex","flex-direction":"column",height:"100%",padding:"0px"}},F={class:"card",style:{border:"1px solid rgb(222, 226, 230)"}},H={class:"card-body",style:{padding:"6px 10px","vertical-align":"top",display:"inline-block"}},j={class:"align-middle"},A={class:"box",style:{height:"100%","flex-grow":"1","overflow-y":"auto",padding:"5px",border:"1px solid #dee2e6",margin:"5px 0px"}},E={class:"box-list",style:{height:"0"}},I={style:{"border-bottom":"0"}},K={style:{color:"rgb(8, 78, 184)","font-weight":"bold"}},P={style:{border:"1px solid black","border-radius":"5px",padding:"5px"}},U={class:"input-group input-group-sm"},Q={__name:"index",setup(q){let g=k(),a=r("left"),l=r(""),i=r([]),h=r({}),d=D("$ms");d.setHeader("Message",t=>{i.value.push(t.data),console.log(t)}),d.setHeader("MessageList",t=>{i.value.push(t.data),console.log(t.data)});function f(){let t={acceptName:h.value.username,sendName:g.author.username,content:l.value,createTime:new Date,updateTime:new Date};i.value.push(t),d.sendMessage(l.value,h.value.username,s=>{s.status==200&&console.log(s.message)}),l.value=""}function w(t){h.value=t,d.messageList(t.username,s=>{s.status==200&&(i.value=s.data)})}let m=r([]);return d.watchList(t=>{t.status==200&&(m.value=t.data)}),(t,s)=>(u(),c("div",C,[e("div",{class:x(["col-md-4 h100 pb-2",n(a)=="left"?"":"m-h"])},[e("div",N,[T,e("div",B,[e("div",R,[(u(!0),c(_,null,v(n(m),o=>y((u(),c("div",{onClick:G=>{w(o),b(a)?a.value="right":a="right"}},[e("p",null,p(o.nickname),1),e("p",$,p(o.signature)+" ",1)],8,V)),[[S,o.username!=n(g).author.username]])),256))])])])],2),e("div",{class:x(["col-md-8 h100 pb-2",n(a)=="right"?"":"m-h"])},[e("div",z,[e("div",F,[e("div",H,[e("span",j,p(n(h).nickname),1),e("span",{style:{float:"right"},onClick:s[0]||(s[0]=o=>b(a)?a.value="left":a="left")}," ✖️ ")])]),e("div",A,[e("div",E,[(u(!0),c(_,null,v(n(i),o=>(u(),c("div",I,[e("p",K,p(o.sendName),1),e("p",P,p(o.content)+" ",1)]))),256))])]),e("div",U,[y(e("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>b(l)?l.value=o:l=o),type:"text",class:"form-control",placeholder:"Recipient's username","aria-label":"Recipient's username","aria-describedby":"button-addon2"},null,512),[[L,n(l)]]),e("button",{class:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:s[2]||(s[2]=o=>f())},"发送")])])],2)]))}};export{Q as default};
