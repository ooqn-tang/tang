import{b as y,j as _,J as b,B as n,C as e,u as x,Q as f,E as c,G as g,L as w,o as i,H as k,M as u,O as B,P as E}from"./github-349dc5f3.js";import{s as p}from"./request-55ac77c7.js";const I=s=>(B("data-v-6e7dc149"),s=s(),E(),s),S={class:"row"},L={class:"col-md-4 mb-2"},M={class:"card"},V={class:"card-body",style:{height:"6.5em"}},C={class:"input-group",style:{height:"100%"}},D={class:"card"},N={class:"card-body",style:{height:"6.5em"}},T=I(()=>e("span",{class:"float-end"},"评:99+",-1)),j={style:{width:"300px",display:"-webkit-box",overflow:"hidden","text-overflow":"ellipsis","-webkit-box-orient":"vertical","-webkit-line-clamp":"2"}},F={__name:"message",setup(s){let l=_({number:0}),a=_([]),o={text:""};function h(){p({url:"/api/essay",method:"get",params:{page:l.value.number}}).then(t=>{l.value=t.data,a.value=a.value.concat(t.data.content)})}function m(){p({url:"/api/essay",method:"post",data:o}).then(t=>{o={},a.value.unshift(t.data)})}return b(()=>{h()}),(t,r)=>(i(),n("div",S,[e("div",L,[e("div",M,[e("div",V,[e("div",C,[x(e("textarea",{"onUpdate:modelValue":r[0]||(r[0]=d=>c(o).text=d),class:"form-control",id:"textarea",style:{height:"100%"}},null,512),[[f,c(o).text]]),e("button",{class:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:m},"发送")])])])]),(i(!0),n(g,null,w(c(a),(d,v)=>(i(),n("div",{class:"col-md-4 mb-2",key:v},[e("div",D,[e("div",N,[e("p",null,[k(u(d.author.nickname)+" ",1),T]),e("div",j,u(d.text),1)])])]))),128))]))}},J=y(F,[["__scopeId","data-v-6e7dc149"]]);export{J as default};
