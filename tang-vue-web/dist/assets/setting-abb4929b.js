import{u as p,a as b,H as h,s as f,t as v,x as s,g as a,K as n,z as l}from"./preload-helper-d757ddc9.js";import{s as c}from"./request-651d32a9.js";const g={class:"list-group article-list"},w={class:"list-group-item"},k={class:"row mb-3"},x=s("label",{class:"col-sm-2 col-form-label"},"用户名",-1),V={class:"col-sm-10"},y={class:"row mb-3"},U=s("label",{class:"col-sm-2 col-form-label",disabled:""},"邮箱",-1),B={class:"col-sm-10"},A={class:"row mb-3"},C=s("label",{class:"col-sm-2 col-form-label"},"昵称",-1),M={class:"col-sm-10"},S={class:"row mb-3"},z=s("label",{class:"col-sm-2 col-form-label"},"签名",-1),D={class:"col-sm-10"},N={__name:"setting",setup(E){let r=p(),o=b({username:"************",nickname:"********",mail:"****************"}),u=r.author.username;function d(){c({url:`/api/author/username/${u}`,method:"get"}).then(i=>{o.value=i.data})}function m(){c({url:"/api/author",method:"put",data:o.value}).then(i=>{alert("保存成功")})}function _(){r.logout(),window.location.href="/"}return h(()=>{d()}),(i,t)=>(f(),v("ul",g,[s("li",w,[s("div",k,[x,s("div",V,[a(s("input",{class:"form-control",disabled:"","onUpdate:modelValue":t[0]||(t[0]=e=>l(o).username=e)},null,512),[[n,l(o).username]])])]),s("div",y,[U,s("div",B,[a(s("input",{type:"text",class:"form-control",disabled:"","onUpdate:modelValue":t[1]||(t[1]=e=>l(o).mail=e)},null,512),[[n,l(o).mail]])])]),s("div",A,[C,s("div",M,[a(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>l(o).nickname=e)},null,512),[[n,l(o).nickname]])])]),s("div",S,[z,s("div",D,[a(s("input",{class:"form-control",id:"inputPassword3","onUpdate:modelValue":t[3]||(t[3]=e=>l(o).signature=e)},null,512),[[n,l(o).signature]])])]),s("div",null,[s("button",{class:"btn btn-primary",onClick:m},"保存信息"),s("button",{class:"btn btn-primary float-end",onClick:_},"退出登录")])])]))}};export{N as default};
