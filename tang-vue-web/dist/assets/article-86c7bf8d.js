import{s as h}from"./request-1bb69c34.js";import{N as y,a as p}from"./FormItem-bac28e1f.js";import{N as C,a as f,b as A}from"./Space-4c3cc0c6.js";import{d as i,J as z,x as E,y as T,l,D as r,C as e,F as g,H as x,h as u}from"./router-55309c27.js";import{h as s}from"./Dropdown-235974f6.js";import"./admin-13e4d054.js";import"./notice-6a1ff031.js";import"./Scrollbar-faca24fd.js";import"./Close-ca8de550.js";function F(d){return h({url:`/api/admin/article/${d}`,method:"DELETE"})}function V(){return h({url:"/api/admin/article",method:"GET"})}const H={__name:"article",setup(d){let o=i([]),m=i({}),n=i({}),k=i({phone:{required:!0,message:"请输入姓名",trigger:"blur"}}),_=[{title:"标题",key:"title"},{title:"时间",key:"createTime"},{title:"作者",key:"author.nickname"},{title:"操作",key:"actions",width:"250",render(t,a){return[u(f,[u(s,{size:"small",onClick:()=>sendMail(t)},{default:()=>"查看"}),u(s,{size:"small",onClick:()=>N(a,t)},{default:()=>"删除"})])]}}],N=(t,a)=>{F(a.articleId).then(c=>{o.value.splice(t,1)})},v=()=>{V().then(t=>{o.value=t.data.content})};z(()=>{v()});let b=()=>{m.value.validate()};return(t,a)=>(E(),T(g,null,[l(e(f),{vertical:""},{default:r(()=>[l(e(y),{ref_key:"formRef",ref:m,inline:"","label-width":80,model:e(n),rules:e(k),size:t.size},{default:r(()=>[l(e(p),{label:"电话号码",path:"phone"},{default:r(()=>[l(e(C),{value:e(n).phone,"onUpdate:value":a[0]||(a[0]=c=>e(n).phone=c),placeholder:"电话号码"},null,8,["value"])]),_:1}),l(e(p),null,{default:r(()=>[l(e(s),{"attr-type":"button",onClick:e(b)},{default:r(()=>[x(" 验证 ")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","rules","size"])]),_:1}),l(e(A),{columns:e(_),data:e(o),bordered:!0},null,8,["columns","data"])],64))}};export{H as default};
