import{s as x}from"./request-02cf91c6.js";import{_ as B,i as V}from"./notice-fc180054.js";import{G as $,d,H as w,t as D,x as a,y as s,z as t,I,C as n,F as y,B as g,D as f,l as p,E as l,J as b,K as L}from"./router-b176819d.js";const E={class:"row"},F={class:"col-md-9 mb-2 small-col"},T={class:"card mb-2"},A={class:"card-body p-0"},G={class:"nav"},H=["onClick"],J={class:"card"},K={class:"card-body article-list p-0"},M={class:"list-group"},S={class:"list-group-item"},j=["textContent"],q={class:"article-synopsis",style:{color:"#5f5a5a"}},O={class:"date-color",style:{"font-size":"16px"}},P={key:0,class:"date-color",style:{"font-size":"16px"}},Q={style:{"font-size":"16px",color:"#dc3545"}},R={class:"list-group-item"},U={key:1},W={class:"col-md-3 mb-2 small-col"},X={__name:"article-list",setup(Y){let _=d(0),c=d({number:0}),u=d([]),v=d(!0),h=d([]);w(()=>{m({categoryId:0}),z()});function k(o){_=o.categoryId,c.value.number=0,u.value=[],m(o)}function z(){x({url:"/api/category/list",method:"get",params:{type:"1"}}).then(o=>{o.data.length>0&&(h.value=o.data)})}function m(o){x({url:"/api/article/list",method:"get",params:{page:c.value.number,categoryId:o.categoryId}}).then(i=>{v.value=!1,c.value=i.data,u.value=u.value.concat(i.data.content)})}function N(){c.last||(c.value.number+=1,m({categoryId:_.value}))}return(o,r)=>{const i=D("router-link");return a(),s("div",E,[t("div",F,[t("div",T,[t("div",A,[t("nav",G,[t("a",{class:I(["nav-link",n(_)=="0"?"nav-link-active":""]),onClick:r[0]||(r[0]=e=>k({categoryId:0}))},"全部",2),(a(!0),s(y,null,g(n(h),e=>(a(),s("a",{class:I([n(_)==e.categoryId?"nav-link-active":"","nav-link"]),onClick:C=>k(e)},l(e.name),11,H))),256))])])]),t("div",J,[t("div",K,[t("ul",M,[(a(!0),s(y,null,g(n(u),e=>(a(),s("li",S,[p(i,{to:{name:"article_post",params:{id:e.articleId}},class:"article-title"},{default:b(()=>[t("strong",null,[t("p",{textContent:l(e.title)},null,8,j)])]),_:2},1032,["to"]),t("div",q,l(e.synopsis),1),t("div",null,[t("span",O,l(e.createTime),1),e.category!=null?(a(),s("span",P," . "+l(e.category.name),1)):f("",!0),(a(!0),s(y,null,g(e.tagList,C=>(a(),s("span",null,[L(" . "),t("span",Q,l(C.tagName),1)]))),256)),p(i,{to:{name:"author_article",params:{username:e.author.username}},class:"float-end"},{default:b(()=>[L(l(e.author.nickname),1)]),_:2},1032,["to"])])]))),256)),t("li",R,[n(v)?f("",!0):(a(),s("a",{key:0,onClick:r[1]||(r[1]=e=>N())},"获取")),n(v)?(a(),s("a",U,"加载中...")):f("",!0)])])])])]),t("div",W,[p(B),p(V)])])}}},at=$(X,[["__scopeId","data-v-ff265c45"]]);export{at as default};
