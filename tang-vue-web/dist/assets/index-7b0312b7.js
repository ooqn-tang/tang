import{u as M,e as r,i as C,x as c,y as p,z as e,K as x,C as n,F as m,B as _,H as u,n as v,k as f,M as L,R as y,v as S}from"./router-c0048b9f.js";import"./request-5c6f490a.js";const D={class:"row h100"},N={class:"h100",style:{display:"flex","flex-direction":"column",height:"100%",padding:"0px"}},T=y('<div class="input-group" style="margin-bottom:1px;"><input type="text" class="form-control" aria-label="Text input with segmented dropdown button"><button type="button" class="btn btn-outline-secondary">搜索</button><button type="button" class="btn btn-outline-secondary dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" aria-expanded="false"><span class="visually-hidden">Toggle Dropdown</span></button><ul class="dropdown-menu dropdown-menu-end"><li><a class="dropdown-item" href="#">增加好友</a></li><li><a class="dropdown-item" href="#">增加群</a></li><li><a class="dropdown-item" href="#">创建群</a></li></ul></div>',1),B={class:"box",style:{height:"100%","flex-grow":"1","overflow-y":"auto",padding:"5px",border:"1px solid #dee2e6",margin:"5px 0px 0px 0px"}},R={class:"box-list"},H=["onClick"],V={style:{color:"#bbbbbb"}},$={class:"h100",style:{display:"flex","flex-direction":"column",height:"100%",padding:"0px"}},z={class:"card",style:{border:"1px solid rgb(222, 226, 230)"}},F={class:"card-body",style:{padding:"6px 10px","vertical-align":"top",display:"inline-block"}},j={class:"align-middle"},q={class:"box",style:{height:"100%","flex-grow":"1","overflow-y":"auto",padding:"5px",border:"1px solid #dee2e6",margin:"5px 0px"}},A={class:"box-list"},E={style:{"border-bottom":"0"}},K={style:{color:"rgb(8, 78, 184)","font-weight":"bold"}},U={style:{border:"1px solid black","border-radius":"5px",padding:"5px"}},G={class:"input-group input-group-sm"},I=y('<div class="modal fade show modal-rgba modal-lg"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="exampleModalLabel">聊天室</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"><form><div class="mb-3"><label for="recipient-name" class="col-form-label">用户地址:</label><input type="text" class="form-control" id="recipient-name" placeholder="账号地址 @bobcbui:ooqn.com"></div><div class="mb-3"><label for="recipient-name" class="col-form-label">邮箱/手机号：</label><input type="text" class="form-control" id="recipient-name"></div><div class="mb-3"><label for="message-text" class="col-form-label">密码：</label><input type="text" class="form-control" id="recipient-name"></div></form></div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">关闭</button><button type="button" class="btn btn-primary">登录</button></div></div></div></div>',1),W={__name:"index",setup(J){let h=M(),a=r("left"),l=r(""),i=r([]),b=r({}),d=C("$ms");d.setHeader("Message",t=>{i.value.push(t.data),console.log(t)}),d.setHeader("MessageList",t=>{i.value.push(t.data),console.log(t.data)});function w(){let t={acceptName:b.value.username,sendName:h.username,content:l.value,createTime:new Date,updateTime:new Date};i.value.push(t),d.sendMessage(l.value,b.value.username,s=>{s.status==200&&console.log(s.message)}),l.value=""}function k(t){b.value=t,d.messageList(t.username,s=>{s.status==200&&(i.value=s.data)})}let g=r([]);return d.watchList(t=>{t.status==200&&(g.value=t.data)}),(t,s)=>(c(),p(m,null,[e("div",D,[e("div",{class:x(["col-md-4 h100 pb-2",n(a)=="left"?"":"m-h"])},[e("div",N,[T,e("div",B,[e("div",R,[(c(!0),p(m,null,_(n(g),o=>f((c(),p("div",{onClick:O=>{k(o),v(a)?a.value="right":a="right"}},[e("p",null,u(o.nickname),1),e("p",V,u(o.signature)+" ",1)],8,H)),[[S,o.username!=n(h).username]])),256))])])])],2),e("div",{class:x(["col-md-8 h100 pb-2",n(a)=="right"?"":"m-h"])},[e("div",$,[e("div",z,[e("div",F,[e("span",j,u(n(b).nickname),1),e("span",{style:{float:"right"},onClick:s[0]||(s[0]=o=>v(a)?a.value="left":a="left")}," ✖️ ")])]),e("div",q,[e("div",A,[(c(!0),p(m,null,_(n(i),o=>(c(),p("div",E,[e("p",K,u(o.sendName),1),e("p",U,u(o.content)+" ",1)]))),256))])]),e("div",G,[f(e("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>v(l)?l.value=o:l=o),type:"text",class:"form-control",placeholder:"Recipient's username","aria-label":"Recipient's username","aria-describedby":"button-addon2"},null,512),[[L,n(l)]]),e("button",{class:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:s[2]||(s[2]=o=>w())},"发送")])])],2)]),I],64))}};export{W as default};
