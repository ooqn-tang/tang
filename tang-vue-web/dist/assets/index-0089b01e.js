import{s as x}from"./request-55ac77c7.js";import{b as B,j as f,p as I,B as V,C as l,D as t,H as y,F as e,G as u,v as s,E as _,N as d,M as z,J as D,L as R,r as w,o as i,K as v,P as T,Q as F}from"./github-6eaaf46c.js";import{a as L,_ as M}from"./notice-356e8a31.js";const P=k=>(T("data-v-3aa37a0f"),k=k(),F(),k),U={class:"row clearfix"},A={class:"col-md-4 col-md-push-8"},G={class:"card mb-2"},H={class:"card-body"},J=P(()=>t("hr",null,null,-1)),K={class:"d-md-inline d-none"},O={class:"col-md-8 col-md-pull-4 mb-2"},Q={class:"card"},q={key:0,class:"card-header"},W={class:"nav justify-content-center"},X={class:"nav-item"},Y={class:"nav-item"},Z={key:0,class:"nav-item"},ee={key:1,class:"nav-item"},te={key:2,class:"nav-item"},ae={key:1,class:"card-header"},se={class:"nav justify-content-center"},ne={class:"nav-item"},oe={class:"nav-item"},le={class:"card-body p-0"},ie={__name:"index",setup(k){let C=z(),b=D(),$=R(),n=f(b.name),h=f({nickname:"∷∷∷∷∷∷∷∷",signature:"∷∷∷∷∷∷∷∷∷∷∷∷∷∷∷∷∷∷∷"}),o=f(""),p=$.state.username;f({page:1});let c=f(1);function g(a){c.value==2?x({url:`/api/fans/${a}`,method:"POST"}).then(m=>{c.value=1}):x({url:`/api/fans/${a}`,method:"DELETE"}).then(m=>{c.value=2})}I(()=>b.name,a=>{n.value=a});function j(){x({url:`/api/fans/username/${o}`,method:"get"}).then(a=>{a.data>0?c.value=1:c.value=2})}function N(){x({url:`/api/author/${o}`,method:"get"}).then(a=>{a.status==200&&(h.value=a.data)})}return V(()=>{o=C.currentRoute.value.params.username,N(),j()}),(a,m)=>{const r=w("router-link"),S=w("router-view");return i(),l("div",U,[t("div",A,[t("div",G,[t("div",H,[t("strong",null,y(e(h).nickname)+" ",1),e(c)==2?(i(),l("button",{key:0,class:"btn btn-outline-warning float-end",style:{padding:"0px 5px 0px 3px","font-size":"13px"},onClick:m[0]||(m[0]=E=>g(e(h).username))},"订阅")):u("",!0),e(c)==1?(i(),l("button",{key:1,class:"btn btn-outline-warning float-end",style:{padding:"0px 5px 0px 3px","font-size":"13px"},onClick:m[1]||(m[1]=E=>g(e(h).username))},"取消订阅")):u("",!0),J,t("div",null,"简介："+y(e(h).signature),1)])]),t("div",K,[s(L),s(M)])]),t("div",O,[t("div",Q,[e(o)==e(p)?(i(),l("div",q,[t("ul",W,[t("li",X,[s(r,{class:d(["nav-link",e(n)=="author_article"?"nav-link-active":""]),to:{name:"author_article"}},{default:_(()=>[v("文章")]),_:1},8,["class"])]),t("li",Y,[s(r,{class:d(["nav-link",e(n)=="author_subject"?"nav-link-active":""]),to:{name:"author_subject"}},{default:_(()=>[v("专栏")]),_:1},8,["class"])]),e(o)==e(p)?(i(),l("li",Z,[s(r,{class:d(["nav-link",e(n)=="author_subscribe"?"nav-link-active":""]),to:{name:"author_subscribe"}},{default:_(()=>[v("订阅")]),_:1},8,["class"])])):u("",!0),e(o)==e(p)?(i(),l("li",ee,[s(r,{class:d(["nav-link",e(n)=="author_collect"?"nav-link-active":""]),to:{name:"author_collect"}},{default:_(()=>[v("收藏")]),_:1},8,["class"])])):u("",!0),e(o)==e(p)?(i(),l("li",te,[s(r,{class:d(["nav-link",e(n)=="author_setting"?"nav-link-active":""]),to:{name:"author_setting"}},{default:_(()=>[v("设置")]),_:1},8,["class"])])):u("",!0)])])):u("",!0),e(o)!=e(p)?(i(),l("div",ae,[t("ul",se,[t("li",ne,[s(r,{class:d(["nav-link",e(n)=="author_article"?"nav-link-active":""]),to:{name:"author_article"}},{default:_(()=>[v("文章")]),_:1},8,["class"])]),t("li",oe,[s(r,{class:d(["nav-link",e(n)=="author_subject"?"nav-link-active":""]),to:{name:"author_subject"}},{default:_(()=>[v("专栏")]),_:1},8,["class"])])])])):u("",!0),t("div",le,[s(S)])])])])}}},_e=B(ie,[["__scopeId","data-v-3aa37a0f"]]);export{_e as default};
