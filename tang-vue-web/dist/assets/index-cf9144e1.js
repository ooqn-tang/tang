import{s as x}from"./request-55ac77c7.js";import{b as I,j as f,p as B,J as R,B as l,C as t,M as y,E as e,F as u,v as s,D as _,K as d,R as V,N as z,I as D,r as w,o as i,H as v,O as T,P as F}from"./github-349dc5f3.js";import{_ as M,i as O}from"./notice-4b187dc8.js";const P=k=>(T("data-v-3aa37a0f"),k=k(),F(),k),U={class:"row clearfix"},A={class:"col-md-4 col-md-push-8"},H={class:"card mb-2"},J={class:"card-body"},K=P(()=>t("hr",null,null,-1)),L={class:"d-md-inline d-none"},q={class:"col-md-8 col-md-pull-4 mb-2"},G={class:"card"},Q={key:0,class:"card-header"},W={class:"nav justify-content-center"},X={class:"nav-item"},Y={class:"nav-item"},Z={key:0,class:"nav-item"},ee={key:1,class:"nav-item"},te={key:2,class:"nav-item"},ae={key:1,class:"card-header"},se={class:"nav justify-content-center"},ne={class:"nav-item"},oe={class:"nav-item"},le={class:"card-body p-0"},ie={__name:"index",setup(k){let C=V(),b=z(),j=D(),n=f(b.name),h=f({nickname:"∷∷∷∷∷∷∷∷",signature:"∷∷∷∷∷∷∷∷∷∷∷∷∷∷∷∷∷∷∷"}),o=f(""),p=j.state.username;f({page:1});let c=f(1);function g(a){c.value==2?x({url:`/api/fans/${a}`,method:"POST"}).then(m=>{c.value=1}):x({url:`/api/fans/${a}`,method:"DELETE"}).then(m=>{c.value=2})}B(()=>b.name,a=>{n.value=a});function $(){x({url:`/api/fans/username/${o}`,method:"get"}).then(a=>{a.data>0?c.value=1:c.value=2})}function N(){x({url:`/api/author/${o}`,method:"get"}).then(a=>{a.status==200&&(h.value=a.data)})}return R(()=>{o=C.currentRoute.value.params.username,N(),$()}),(a,m)=>{const r=w("router-link"),S=w("router-view");return i(),l("div",U,[t("div",A,[t("div",H,[t("div",J,[t("strong",null,y(e(h).nickname)+" ",1),e(c)==2?(i(),l("button",{key:0,class:"btn btn-outline-warning float-end",style:{padding:"0px 5px 0px 3px","font-size":"13px"},onClick:m[0]||(m[0]=E=>g(e(h).username))},"订阅")):u("",!0),e(c)==1?(i(),l("button",{key:1,class:"btn btn-outline-warning float-end",style:{padding:"0px 5px 0px 3px","font-size":"13px"},onClick:m[1]||(m[1]=E=>g(e(h).username))},"取消订阅")):u("",!0),K,t("div",null,"简介："+y(e(h).signature),1)])]),t("div",L,[s(M),s(O)])]),t("div",q,[t("div",G,[e(o)==e(p)?(i(),l("div",Q,[t("ul",W,[t("li",X,[s(r,{class:d(["nav-link",e(n)=="author_article"?"nav-link-active":""]),to:{name:"author_article"}},{default:_(()=>[v("文章")]),_:1},8,["class"])]),t("li",Y,[s(r,{class:d(["nav-link",e(n)=="author_subject"?"nav-link-active":""]),to:{name:"author_subject"}},{default:_(()=>[v("专栏")]),_:1},8,["class"])]),e(o)==e(p)?(i(),l("li",Z,[s(r,{class:d(["nav-link",e(n)=="author_subscribe"?"nav-link-active":""]),to:{name:"author_subscribe"}},{default:_(()=>[v("订阅")]),_:1},8,["class"])])):u("",!0),e(o)==e(p)?(i(),l("li",ee,[s(r,{class:d(["nav-link",e(n)=="author_collect"?"nav-link-active":""]),to:{name:"author_collect"}},{default:_(()=>[v("收藏")]),_:1},8,["class"])])):u("",!0),e(o)==e(p)?(i(),l("li",te,[s(r,{class:d(["nav-link",e(n)=="author_setting"?"nav-link-active":""]),to:{name:"author_setting"}},{default:_(()=>[v("设置")]),_:1},8,["class"])])):u("",!0)])])):u("",!0),e(o)!=e(p)?(i(),l("div",ae,[t("ul",se,[t("li",ne,[s(r,{class:d(["nav-link",e(n)=="author_article"?"nav-link-active":""]),to:{name:"author_article"}},{default:_(()=>[v("文章")]),_:1},8,["class"])]),t("li",oe,[s(r,{class:d(["nav-link",e(n)=="author_subject"?"nav-link-active":""]),to:{name:"author_subject"}},{default:_(()=>[v("专栏")]),_:1},8,["class"])])])])):u("",!0),t("div",le,[s(S)])])])])}}},_e=I(ie,[["__scopeId","data-v-3aa37a0f"]]);export{_e as default};
