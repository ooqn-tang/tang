import{u as k,e as r,i as M,x as u,y as c,z as e,F as _,B as v,C as n,K as x,H as p,n as h,k as y,M as C,R as L,v as S}from"./router-ec2cfcb0.js";import"./request-5c6f490a.js";const D={class:"row h100"},N={class:"h100",style:{display:"flex","flex-direction":"column",height:"100%",padding:"0px"}},T=L('<div class="input-group" style="margin-bottom:1px;"><input type="text" class="form-control" aria-label="Text input with segmented dropdown button"><button type="button" class="btn btn-outline-secondary">搜索</button><button type="button" class="btn btn-outline-secondary dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" aria-expanded="false"><span class="visually-hidden">Toggle Dropdown</span></button><ul class="dropdown-menu dropdown-menu-end"><li><a class="dropdown-item" href="#">增加好友</a></li><li><a class="dropdown-item" href="#">增加群</a></li><li><a class="dropdown-item" href="#">创建群</a></li></ul></div>',1),B={class:"box",style:{height:"100%","flex-grow":"1","overflow-y":"auto",padding:"5px",border:"1px solid #dee2e6",margin:"5px 0px 0px 0px"}},R={class:"box-list",style:{height:"0"}},H=["onClick"],V={style:{color:"#bbbbbb"}},$={class:"h100",style:{display:"flex","flex-direction":"column",height:"100%",padding:"0px"}},z={class:"card",style:{border:"1px solid rgb(222, 226, 230)"}},F={class:"card-body",style:{padding:"6px 10px","vertical-align":"top",display:"inline-block"}},j={class:"align-middle"},A={class:"box",style:{height:"100%","flex-grow":"1","overflow-y":"auto",padding:"5px",border:"1px solid #dee2e6",margin:"5px 0px"}},E={class:"box-list",style:{height:"0"}},K={style:{"border-bottom":"0"}},U={style:{color:"rgb(8, 78, 184)","font-weight":"bold"}},q={style:{border:"1px solid black","border-radius":"5px",padding:"5px"}},G={class:"input-group input-group-sm"},Q={__name:"index",setup(I){let g=k(),a=r("left"),l=r(""),i=r([]),b=r({}),d=M("$ms");d.setHeader("Message",t=>{i.value.push(t.data),console.log(t)}),d.setHeader("MessageList",t=>{i.value.push(t.data),console.log(t.data)});function f(){let t={acceptName:b.value.username,sendName:g.username,content:l.value,createTime:new Date,updateTime:new Date};i.value.push(t),d.sendMessage(l.value,b.value.username,s=>{s.status==200&&console.log(s.message)}),l.value=""}function w(t){b.value=t,d.messageList(t.username,s=>{s.status==200&&(i.value=s.data)})}let m=r([]);return d.watchList(t=>{t.status==200&&(m.value=t.data)}),(t,s)=>(u(),c("div",D,[e("div",{class:x(["col-md-4 h100 pb-2",n(a)=="left"?"":"m-h"])},[e("div",N,[T,e("div",B,[e("div",R,[(u(!0),c(_,null,v(n(m),o=>y((u(),c("div",{onClick:J=>{w(o),h(a)?a.value="right":a="right"}},[e("p",null,p(o.nickname),1),e("p",V,p(o.signature)+" ",1)],8,H)),[[S,o.username!=n(g).username]])),256))])])])],2),e("div",{class:x(["col-md-8 h100 pb-2",n(a)=="right"?"":"m-h"])},[e("div",$,[e("div",z,[e("div",F,[e("span",j,p(n(b).nickname),1),e("span",{style:{float:"right"},onClick:s[0]||(s[0]=o=>h(a)?a.value="left":a="left")}," ✖️ ")])]),e("div",A,[e("div",E,[(u(!0),c(_,null,v(n(i),o=>(u(),c("div",K,[e("p",U,p(o.sendName),1),e("p",q,p(o.content)+" ",1)]))),256))])]),e("div",G,[y(e("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>h(l)?l.value=o:l=o),type:"text",class:"form-control",placeholder:"Recipient's username","aria-label":"Recipient's username","aria-describedby":"button-addon2"},null,512),[[C,n(l)]]),e("button",{class:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:s[2]||(s[2]=o=>f())},"发送")])])],2)]))}};export{Q as default};
