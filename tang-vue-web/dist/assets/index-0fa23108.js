import{s as b}from"./request-55ac77c7.js";import{b as R,j as f,p as V,N as z,C as l,D as t,H as w,F as e,G as u,v as a,E as d,O as _,K as B,L as D,J as T,r as x,o as i,M as v,Q as F,R as L}from"./github-1ff0047c.js";const M=k=>(F("data-v-15d326d8"),k=k(),L(),k),O={class:"row clearfix"},U={class:"col-md-4 col-md-push-8 move-p-lr-0"},A={class:"card mb-2 move-b-lr-0"},G={class:"card-body"},H=M(()=>t("hr",null,null,-1)),J={class:"list-group mb-2 d-md-inline d-none"},K={class:"col-md-8 col-md-pull-4 mb-2 move-p-lr-0"},P={class:"card move-b-lr-0"},Q={key:0,class:"card-header"},q={class:"nav justify-content-center"},W={class:"nav-item"},X={class:"nav-item"},Y={key:0,class:"nav-item"},Z={key:1,class:"nav-item"},ee={key:2,class:"nav-item"},te={key:1,class:"card-header"},se={class:"nav justify-content-center"},ae={class:"nav-item"},ne={class:"nav-item"},oe={class:"card-body p-0"},le={__name:"index",setup(k){let C=B(),g=D(),j=T(),n=f(g.name),h=f({nickname:"∷∷∷∷∷∷∷∷",signature:"∷∷∷∷∷∷∷∷∷∷∷∷∷∷∷∷∷∷∷"}),o=f(""),p=j.state.username;f({page:1});let c=f(1);function y(s){c.value==2?b({url:`/api/fans/${s}`,method:"POST"}).then(m=>{c.value=1}):b({url:`/api/fans/${s}`,method:"DELETE"}).then(m=>{c.value=2})}V(()=>g.name,s=>{n.value=s});function N(){b({url:`/api/fans/username/${o}`,method:"get"}).then(s=>{s.data>0?c.value=1:c.value=2})}function S(){b({url:`/api/author/${o}`,method:"get"}).then(s=>{s.status==200&&(h.value=s.data)})}return z(()=>{o=C.currentRoute.value.params.username,S(),N()}),(s,m)=>{const $=x("notice"),r=x("router-link"),E=x("router-view");return i(),l("div",O,[t("div",U,[t("div",A,[t("div",G,[t("strong",null,w(e(h).nickname)+" ",1),e(c)==2?(i(),l("button",{key:0,class:"btn btn-outline-warning float-end",style:{padding:"0px 5px 0px 3px","font-size":"13px"},onClick:m[0]||(m[0]=I=>y(e(h).username))},"订阅")):u("",!0),e(c)==1?(i(),l("button",{key:1,class:"btn btn-outline-warning float-end",style:{padding:"0px 5px 0px 3px","font-size":"13px"},onClick:m[1]||(m[1]=I=>y(e(h).username))},"取消订阅")):u("",!0),H,t("div",null,"简介："+w(e(h).signature),1)])]),t("div",J,[a($)])]),t("div",K,[t("div",P,[e(o)==e(p)?(i(),l("div",Q,[t("ul",q,[t("li",W,[a(r,{class:_(["nav-link",e(n)=="author_article"?"nav-link-active":""]),to:{name:"author_article"}},{default:d(()=>[v("文章")]),_:1},8,["class"])]),t("li",X,[a(r,{class:_(["nav-link",e(n)=="author_subject"?"nav-link-active":""]),to:{name:"author_subject"}},{default:d(()=>[v("专栏")]),_:1},8,["class"])]),e(o)==e(p)?(i(),l("li",Y,[a(r,{class:_(["nav-link",e(n)=="author_subscribe"?"nav-link-active":""]),to:{name:"author_subscribe"}},{default:d(()=>[v("订阅")]),_:1},8,["class"])])):u("",!0),e(o)==e(p)?(i(),l("li",Z,[a(r,{class:_(["nav-link",e(n)=="author_collect"?"nav-link-active":""]),to:{name:"author_collect"}},{default:d(()=>[v("收藏")]),_:1},8,["class"])])):u("",!0),e(o)==e(p)?(i(),l("li",ee,[a(r,{class:_(["nav-link",e(n)=="author_setting"?"nav-link-active":""]),to:{name:"author_setting"}},{default:d(()=>[v("设置")]),_:1},8,["class"])])):u("",!0)])])):u("",!0),e(o)!=e(p)?(i(),l("div",te,[t("ul",se,[t("li",ae,[a(r,{class:_(["nav-link",e(n)=="author_article"?"nav-link-active":""]),to:{name:"author_article"}},{default:d(()=>[v("文章")]),_:1},8,["class"])]),t("li",ne,[a(r,{class:_(["nav-link",e(n)=="author_subject"?"nav-link-active":""]),to:{name:"author_subject"}},{default:d(()=>[v("专栏")]),_:1},8,["class"])])])])):u("",!0),t("div",oe,[a(E)])])])])}}},re=R(le,[["__scopeId","data-v-15d326d8"]]);export{re as default};
