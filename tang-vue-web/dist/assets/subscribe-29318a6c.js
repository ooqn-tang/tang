import{s as l}from"./request-651d32a9.js";import{a as _,H as m,q as p,s as r,t as i,F as f,y as h,z as g,x as s,j as k,A as b,D as u}from"./preload-helper-d757ddc9.js";const v={class:"list-group article-list"},C={class:"list-group-item"},x=["textContent"],E=["onClick"],F={class:"article-synopsis"},$={__name:"subscribe",setup(L){let a=_([]);function c(){l({url:"/api/fans/list",method:"get"}).then(t=>{a.value=t.data.content})}function d(t,n){l({url:`/api/fans/${t}`,method:"DELETE"}).then(o=>{o.data>0&&a.value.splice(n,1)})}return m(()=>{c()}),(t,n)=>{const o=p("router-link");return r(),i("ul",v,[(r(!0),i(f,null,h(g(a),e=>(r(),i("li",C,[k(o,{target:"_blank",to:{name:"author_article",params:{username:e.username}}},{default:b(()=>[s("strong",{textContent:u(e.nickname)},null,8,x)]),_:2},1032,["to"]),s("button",{class:"btn btn-outline-danger float-end btn-sm",onClick:y=>d(e.username,t.index)},"取消关注",8,E),s("div",F,u(e.signature),1)]))),256)),s("li",{class:"list-group-item",onClick:n[0]||(n[0]=e=>t.loadArticle())}," 获取 ")])}}};export{$ as default};
