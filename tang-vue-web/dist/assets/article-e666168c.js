import{s as f}from"./request-55ac77c7.js";import{N as b,a as c}from"./FormItem-79499e0f.js";import{N as g,a as C,b as y}from"./Space-c6f9888b.js";import{r as i,L as A,x as z,n as a,C as r,B as e,F as E,G as T,I as B,h as p}from"./github-f7596896.js";import{w as u}from"./Dropdown-0c4c1681.js";import"./admin-06c2dd26.js";import"./notice-74d52136.js";function F(s){return f({url:`/api/admin/article/${s}`,method:"DELETE"})}function I(){return f({url:"/api/admin/article",method:"GET"})}const R={__name:"article",setup(s){let n=i([]),d=i({}),o=i({}),h=i({phone:{required:!0,message:"请输入姓名",trigger:"blur"}}),k=[{title:"标题",key:"title"},{title:"时间",key:"createTime"},{title:"作者",key:"author.nickname"},{title:"操作",key:"actions",width:"250",render(t,l){return[p(u,{size:"small",onClick:()=>sendMail(t)},{default:()=>"查看"}),p(u,{size:"small",onClick:()=>N(l,t)},{default:()=>"删除"})]}}],N=(t,l)=>{F(l.articleId).then(m=>{n.value.splice(t,1)})},_=()=>{I().then(t=>{n.value=t.data.content})};A(()=>{_()});let v=()=>{d.value.validate()};return(t,l)=>(T(),z(E,null,[a(e(C),{vertical:""},{default:r(()=>[a(e(b),{ref_key:"formRef",ref:d,inline:"","label-width":80,model:e(o),rules:e(h),size:t.size},{default:r(()=>[a(e(c),{label:"电话号码",path:"phone"},{default:r(()=>[a(e(g),{value:e(o).phone,"onUpdate:value":l[0]||(l[0]=m=>e(o).phone=m),placeholder:"电话号码"},null,8,["value"])]),_:1}),a(e(c),null,{default:r(()=>[a(e(u),{"attr-type":"button",onClick:e(v)},{default:r(()=>[B(" 验证 ")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","rules","size"])]),_:1}),a(e(y),{columns:e(k),data:e(n),pagination:t.pagination,bordered:!0},null,8,["columns","data","pagination"])],64))}};export{R as default};
