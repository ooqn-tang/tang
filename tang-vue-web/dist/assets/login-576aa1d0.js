import{K as v,r as f,L as b,x as g,y as t,I as d,H as y,B as a,l as c,R as u,n as p,C as _,E as x,G as w,P as I,Q as S,U as k}from"./github-f7596896.js";import{s as V,o as B}from"./request-55ac77c7.js";const r=l=>(I("data-v-70e48d4e"),l=l(),S(),l),C={class:"modal",style:{display:"inline"}},M={id:"loginModal",class:"modal-dialog"},N={class:"modal-content"},D=r(()=>t("div",{class:"modal-header"},[t("h4",{class:"modal-title text-center"},"登录")],-1)),U={id:"model-body",class:"modal-body"},W=r(()=>t("label",null,"邮箱/用户名：",-1)),E={class:"form-group"},R=r(()=>t("label",null,"密码：",-1)),T={class:"form-group"},j={class:"modal-footer"},G={class:"btn-group W100"},H={class:"btn-group W100"},J={class:"btn-group W100"},K={__name:"login",setup(l){let e=f({rememberMe:!0}),m=k();function h(){V({url:"/api/authenticate",method:"post",data:e.value}).then(s=>{if(s.status===200){debugger;let o=B(s.data);localStorage.setItem("jwt",s.data),localStorage.setItem("author",JSON.stringify(o)),m.push({path:"/author/"+o.sub})}}).catch(s=>{alert(s.data)})}return b(()=>{}),(s,o)=>{const i=x("router-link");return w(),g("div",C,[t("div",M,[t("div",N,[D,t("div",U,[d(y(a(e).value)+" ",1),W,t("div",E,[c(t("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=n=>a(e).username=n),placeholder:"邮箱/用户名",autocomplete:"off",class:"form-control"},null,512),[[u,a(e).username]])]),R,t("div",T,[c(t("input",{type:"password","onUpdate:modelValue":o[1]||(o[1]=n=>a(e).password=n),placeholder:"密码",autocomplete:"off",class:"form-control"},null,512),[[u,a(e).password]])])]),t("div",j,[t("div",G,[t("button",{type:"button",class:"btn btn-primary",onClick:o[2]||(o[2]=n=>h())},"登录")]),t("div",H,[p(i,{to:"/register",type:"button",class:"btn btn-outline-secondary"},{default:_(()=>[d("注册")]),_:1})]),t("div",J,[p(i,{to:"/",type:"button",class:"btn btn-outline-secondary"},{default:_(()=>[d("返回首页")]),_:1})])])])])])}}},P=v(K,[["__scopeId","data-v-70e48d4e"]]);export{P as default};
