import{_ as b,a as g,b as x,u as k,r as p,l as C,d as R,e as r,f as u,g as e,z as V,A as w,i,F as B,m as E,s as _,h as N,w as T,k as m,t as c}from"./index.5db2cb1e.js";const D={class:"card-body article-list p-0"},F={class:"list-group"},L={class:"list-group-item"},M={class:"input-group"},S={class:"float-end"},z={class:"list-group-item"},A={setup(I){g(),x(),k();let a=p({number:0}),o=p([]),n={text:""};function d(){_({url:"/api/essay",method:"get",params:{page:a.value.number}}).then(s=>{a.value=s.data,o.value=o.value.concat(s.data.content)})}function f(){_({url:"/api/essay",method:"post",data:n}).then(s=>{n={},o.value.unshift(s.data)})}function v(){a.last||(a.value.number+=1,d())}return C(()=>{d()}),(s,l)=>{const y=R("router-link");return r(),u("div",D,[e("ul",F,[e("li",L,[e("div",M,[V(e("input",{"onUpdate:modelValue":l[0]||(l[0]=t=>i(n).text=t),type:"text",class:"form-control",placeholder:"Recipient's username","aria-label":"Recipient's username","aria-describedby":"button-addon2"},null,512),[[w,i(n).text]]),e("button",{class:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:f},"\u53D1\u9001")])]),(r(!0),u(B,null,E(i(o),(t,h)=>(r(),u("li",{class:"list-group-item",key:h},[e("p",null,[N(y,{to:{name:"author_article",params:{username:t.author.username}}},{default:T(()=>[m(c(t.author.nickname),1)]),_:2},1032,["to"]),e("span",S,c(t.essay.createTime),1)]),m(" "+c(t.essay.text),1)]))),128)),e("li",z,[e("a",{onClick:l[1]||(l[1]=t=>v())},"\u83B7\u53D6")])])])}}},$=b(A,[["__scopeId","data-v-99521af0"]]);export{$ as default};
