import{b as h,j as p,N as y,C as l,D as e,u as x,S as k,F as i,I as C,P as E,r as N,o as u,v as V,E as B,M as _,H as c}from"./github-3fa84727.js";import{s as m}from"./request-55ac77c7.js";const D={class:"card-body article-list p-0"},M={class:"list-group"},T={class:"list-group-item"},w={class:"input-group"},F={class:"float-end"},I={class:"list-group-item"},L={__name:"message",setup(R){let a=p({number:0}),o=p([]),n={text:""};function d(){m({url:"/api/essay",method:"get",params:{page:a.value.number}}).then(s=>{a.value=s.data,o.value=o.value.concat(s.data.content)})}function f(){m({url:"/api/essay",method:"post",data:n}).then(s=>{n={},o.value.unshift(s.data)})}function v(){a.last||(a.value.number+=1,d())}return y(()=>{d()}),(s,r)=>{const b=N("router-link");return u(),l("div",D,[e("ul",M,[e("li",T,[e("div",w,[x(e("input",{"onUpdate:modelValue":r[0]||(r[0]=t=>i(n).text=t),type:"text",class:"form-control",placeholder:"Recipient's username","aria-label":"Recipient's username","aria-describedby":"button-addon2"},null,512),[[k,i(n).text]]),e("button",{class:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:f},"发送")])]),(u(!0),l(C,null,E(i(o),(t,g)=>(u(),l("li",{class:"list-group-item",key:g},[e("p",null,[V(b,{to:{name:"author_article",params:{username:t.author.username}}},{default:B(()=>[_(c(t.author.nickname),1)]),_:2},1032,["to"]),e("span",F,c(t.createTime),1)]),_(" "+c(t.text),1)]))),128)),e("li",I,[e("a",{onClick:r[1]||(r[1]=t=>v())},"获取")])])])}}},H=h(L,[["__scopeId","data-v-947f6cd0"]]);export{H as default};
