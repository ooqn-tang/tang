<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="net.ttcxy.tang.portal.dao.DtsBlogTagDao">
    <resultMap id="BlogTagResult" type="net.ttcxy.tang.portal.entity.dto.DtsBlogTagDto">
        <id column="BLOG_TAG_ID" property="blogTagId"/>
        <result column="TAG_NAME" property="tagName"/>
        <result column="synopsis" property="synopsis"/>
        <result column="CREATE_DATE" property="createDate"/>
    </resultMap>
    <select id="selectTagBlogCountListByUsername" resultMap="BlogTagResult">

    </select>
    <select id="selectTagList" resultMap="BlogTagResult">
        select * from dts_blog_tag
    </select>

    <select id="selectTagListByName" resultMap="BlogTagResult">
        select * from dts_blog_tag where tag_name like concat(#{name},'%')
    </select>

    <select id="selectTagByName" resultMap="BlogTagResult">
        select * from dts_blog_tag where tag_name = #{name}
    </select>
    <select id="selectAuthorAllTag" resultMap="BlogTagResult">
        select *
        from dts_blog_tag_author_relation t1 , dts_blog_tag t2
        where t2.blog_tag_id = t1.blog_tag_id and author_id = #{authorId} order by t1.create_date
    </select>

    <select id="selectByBlogId" resultMap="BlogTagResult">
        select * from dts_blog_tag t1
        inner join dts_blog_tag_relation t2  on t1.blog_tag_id = t2.blog_tag_id and blog_id = #{blogId}
    </select>
</mapper>