<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="net.ttcxy.tang.portal.mapper.dao.DtsVideoDao">
    <select id="selectById" resultType="net.ttcxy.tang.portal.entity.dto.DtsVideoDto">
        select *
        from dts_video t1
        inner join uts_author t2 on t1.author_id = t2.author_id and t1.video_id = #{videoId}
        left join dts_video_class t3 on t1.video_class_id = t3.video_class_id
    </select>
    <select id="select" resultType="net.ttcxy.tang.portal.entity.dto.DtsVideoDto">
        select *
        from uts_author t1 , dts_video t2
        where t1.author_id = t2.author_id
        and t2.state = 1
        <if test="title != ''">
            and t2.title like concat(#{title,jdbcType=VARCHAR},'%')
        </if>
        <if test="videoClass != ''">
            and t2.video_class_id = #{videoClass}
        </if>

    </select>
    <select id="selectByUsername" resultType="net.ttcxy.tang.portal.entity.dto.DtsVideoDto">
        select *
        from uts_author t1 , dts_video t2
        where t1.author_id = t2.author_id
        and t2.state = 1
        and t1.username = #{username}
    </select>
</mapper>