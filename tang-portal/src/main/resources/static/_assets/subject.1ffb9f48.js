let a=document.createElement("style");a.innerHTML="body{overflow-y:scroll}",document.head.appendChild(a);import{a as s,b as e,s as t}from"./subject.2992909a.js";import{o as l,c as o,b as r,F as d,g as i,d as n,h as m,j as u,r as c,i as b,t as p}from"./index.dc9d8f03.js";var h={name:"author_subject",data(){return{saveType:"update",thisUsername:this.$route.params.username,isThisUser:this.$route.params.username==this.$store.state.username,subjectList:[],dataFrom:{blogSubjectId:"",subjectName:"",synopsis:""}}},methods:{save(){"insert"==this.saveType?s(this.dataFrom).then((a=>{alert(JSON.stringify(a))})):e(this.dataFrom).then((a=>{alert(JSON.stringify(a))}))},updateClick(a,s,e){this.dataFrom.blogSubjectId=a,this.dataFrom.subjectName=s,this.dataFrom.synopsis=e,this.saveType="update"},selectSubjectListByUsername(a){t(a).then((a=>{this.subjectList=a.data.list}))}},mounted(){this.selectSubjectListByUsername(this.$route.params.username)}};const y={class:"list-group blog-list"},j={key:0,class:"list-group-item "},f={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},g={class:"modal-dialog"},v={class:"modal-content"},x=r("div",{class:"modal-header"},[r("h5",{class:"modal-title",id:"exampleModalLabel"},"专辑"),r("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),F={class:"modal-body"},C={class:"mb-3"},k=r("label",{for:"exampleFormControlInput1",class:"form-label"},"专辑名",-1),T={class:"mb-3"},L=r("label",{for:"exampleFormControlTextarea1",class:"form-label"},"描述",-1),N={class:"modal-footer"},S=r("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"关闭",-1);h.render=function(a,s,e,t,h,U){const I=c("router-link");return l(),o(d,null,[r("ul",y,[(l(!0),o(d,null,i(h.subjectList,((a,s)=>(l(),o("li",{class:"list-group-item",key:s},[r(I,{to:{name:"subject_info",params:{subject_id:a.blogSubjectId}}},{default:b((()=>[r("strong",{textContent:p(a.subjectName)},null,8,["textContent"])])),_:2},1032,["to"]),h.isThisUser?(l(),o("span",{key:0,class:"float-end","data-bs-toggle":"modal","data-bs-target":"#exampleModal",onClick:s=>U.updateClick(a.blogSubjectId,a.subjectName,a.synopsis)},"编辑",8,["onClick"])):n("",!0),r("div",null,p(a.synopsis),1)])))),128)),h.isThisUser?(l(),o("li",j,[r("a",{"data-bs-toggle":"modal","data-bs-target":"#exampleModal",onClick:s[1]||(s[1]=a=>(h.dataFrom={},h.saveType="insert"))},"创建专辑")])):n("",!0)]),r("div",f,[r("div",g,[r("div",v,[x,r("div",F,[r("div",C,[k,m(r("input",{class:"form-control",id:"exampleFormControlInput1","onUpdate:modelValue":s[2]||(s[2]=a=>h.dataFrom.subjectName=a)},null,512),[[u,h.dataFrom.subjectName]])]),r("div",T,[L,m(r("textarea",{class:"form-control",id:"exampleFormControlTextarea1",rows:"3","onUpdate:modelValue":s[3]||(s[3]=a=>h.dataFrom.synopsis=a)},null,512),[[u,h.dataFrom.synopsis]])])]),r("div",N,[S,r("button",{type:"button",class:"btn btn-primary",onClick:s[4]||(s[4]=(...a)=>U.save&&U.save(...a))},"保存")])])])])],64)};export default h;
